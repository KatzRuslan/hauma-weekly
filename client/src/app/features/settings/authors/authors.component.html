<p-table #table
    class="w-full h-full"
    [value]="tableValue"
    [scrollable]="true" scrollHeight="flex"  
    [virtualScroll]="true" [virtualScrollItemSize]="0">
    <ng-template pTemplate="caption">
        <div class="">
            <div class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input
                    #searchInput pInputText type="text"
                    class="w-30rem"
                    (input)="onSearchFilter(searchInput.value)"
                    placeholder="Search" />
            </div>
        </div>
    </ng-template>
    <!--  
    <ng-template pTemplate="summary">
        <div class="flex justify-content-end">
            <div class="px-2">
                <p-button
                    icon="pi pi-plus text-xl"
                    styleClass="w-3rem h-3rem"
                    size="large"
                    [rounded]="true" [rounded]="true" [plain]="true"
                    (onClick)="onMessage('')">
                </p-button>
            </div>
        </div>
    </ng-template>
    -->
    <ng-template pTemplate="header">
        <tr>
            <th class="w-4"><div class=""><span class="">Author Name</span></div></th>
            <th class=""><div class=""><span class="">Author Link</span></div></th>
            <th class="w-3rem"></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-author>
        <tr class="row">
            <td class="w-4">
                <app-editable-text
                    [value]="author.name"
                    [mode]="editable?.id==author.id && editable?.type=='name'"
                    textStyleClass="p-inputtext no-border max-w-full"
                    inputStyleClass="w-12"
                    (onValueChange)="onMessage(messageType.UpdateAuthor,author,{name:$event})"
                    (onModeChange)="onMessage(messageType.ChangeEditableMode,author,$event?'name':'')">
                </app-editable-text>
            </td>
            <td class="">
                <app-editable-text
                    [value]="author.link"
                    [mode]="editable?.id==author.id && editable?.type=='link'"
                    textStyleClass="p-inputtext no-border max-w-full"
                    inputStyleClass="w-12"
                    (onValueChange)="onMessage(messageType.UpdateAuthor,author,{link:$event})"
                    (onModeChange)="onMessage(messageType.ChangeEditableMode,author,$event?'link':'')">
                </app-editable-text>
            </td>
            <td class="w-3rem">
                <p-button
                    icon="pi pi-trash"
                    styleClass=""
                    [rounded]="true" [text]="true" [plain]="true"
                    (onClick)="onMessage(messageType.RemoveAuthor, author)">
                </p-button>
            </td>
        </tr>
    </ng-template>
</p-table>
