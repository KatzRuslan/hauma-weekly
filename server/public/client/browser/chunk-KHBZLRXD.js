import{C as M,D as O,n as H,x as B,z as I}from"./chunk-6ROSTETQ.js";import{A as g,B as N,F as $,G as k,I as m,J as P,L as U,O as C,R as V,Ta as G,ba as a,c as _,ca as b,f as E,ga as f,ha as i,ia as y,l as h,la as F,s as v,u as R,z as T}from"./chunk-QKGFT424.js";import{a as p}from"./chunk-ZFMGZBFO.js";var it={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},j="__@ngrx/effects_create__";function Kt(t,e={}){let s=e.functional?t:t(),n=p(p({},it),e);return Object.defineProperty(s,j,{value:n}),s}function ot(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(j)?t[n][j].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][j];return p({propertyName:n},r)})}function ct(t){return ot(t)}function Y(t){return Object.getPrototypeOf(t)}function ft(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function J(t){return typeof t=="function"}function z(t){return t.filter(J)}function ut(t){return t instanceof f||J(t)}function at(t,e,s){let n=Y(t),c=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=ct(t).map(({propertyName:u,dispatch:d,useEffectsErrorHandler:w})=>{let l=typeof t[u]=="function"?t[u]():t[u],D=w?s(l,e):l;return d===!1?D.pipe(k()):D.pipe(V()).pipe(v(rt=>({effect:t[u],notification:rt,propertyName:u,sourceName:c,sourceInstance:t})))});return T(...o)}var dt=10;function X(t,e,s=dt){return t.pipe(N(n=>(e&&e.handleError(n),s<=1?t:X(t,e,s-1))))}var Lt=(()=>{let e=class e extends _{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}};e.\u0275fac=function(r){return new(r||e)(i(B))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yt(...t){return g(e=>t.some(s=>typeof s=="string"?s===e.type:s.type===e.type))}var Z=new f("@ngrx/effects Internal Root Guard"),S=new f("@ngrx/effects User Provided Effects"),x=new f("@ngrx/effects Internal Root Effects"),q=new f("@ngrx/effects Internal Root Effects Instances"),K=new f("@ngrx/effects Internal Feature Effects"),Q=new f("@ngrx/effects Internal Feature Effects Instance Groups"),lt=new f("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>X}),W="@ngrx/effects/init",Jt=H(W);function pt(t,e){if(t.notification.kind==="N"){let s=t.notification.value;!Et(s)&&e.handleError(new Error(`Effect ${ht(t)} dispatched an invalid action: ${vt(s)}`))}}function Et(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function ht({propertyName:t,sourceInstance:e,sourceName:s}){let n=typeof e[t]=="function";return!!s?`"${s}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function vt(t){try{return JSON.stringify(t)}catch{return t}}var gt="ngrxOnIdentifyEffects";function mt(t){return A(t,gt)}var bt="ngrxOnRunEffects";function yt(t){return A(t,bt)}var Ft="ngrxOnInitEffects";function It(t){return A(t,Ft)}function A(t,e){return t&&e in t&&typeof t[e]=="function"}var tt=(()=>{let e=class e extends E{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(C(n=>ft(n)?Y(n):n),R(n=>n.pipe(C(St))),R(n=>{let r=n.pipe(U(o=>jt(this.errorHandler,this.effectsErrorHandler)(o)),v(o=>(pt(o,this.errorHandler),o.notification)),g(o=>o.kind==="N"&&o.value!=null),P()),c=n.pipe($(1),g(It),v(o=>o.ngrxOnInitEffects()));return T(r,c)}))}};e.\u0275fac=function(r){return new(r||e)(i(G),i(lt))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function St(t){return mt(t)?t.ngrxOnIdentifyEffects():""}function jt(t,e){return s=>{let n=at(s,t,e);return yt(s)?s.ngrxOnRunEffects(n):n}}var et=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(i(tt),i(I))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nt=(()=>{let e=class e{constructor(n,r,c,o,u,d,w){this.sources=n,r.start();for(let l of o)n.addEffects(l);c.dispatch({type:W})}addEffects(n){this.sources.addEffects(n)}};e.\u0275fac=function(r){return new(r||e)(i(tt),i(et),i(I),i(q),i(M,8),i(O,8),i(Z,8))},e.\u0275mod=F({type:e}),e.\u0275inj=b({});let t=e;return t})(),Rt=(()=>{let e=class e{constructor(n,r,c,o){let u=r.flat();for(let d of u)n.addEffects(d)}};e.\u0275fac=function(r){return new(r||e)(i(nt),i(Q),i(M,8),i(O,8))},e.\u0275mod=F({type:e}),e.\u0275inj=b({});let t=e;return t})(),Xt=(()=>{let e=class e{static forFeature(...n){let r=n.flat(),c=z(r);return{ngModule:Rt,providers:[c,{provide:K,multi:!0,useValue:r},{provide:S,multi:!0,useValue:[]},{provide:Q,multi:!0,useFactory:L,deps:[K,S]}]}}static forRoot(...n){let r=n.flat(),c=z(r);return{ngModule:nt,providers:[c,{provide:x,useValue:[r]},{provide:Z,useFactory:Tt},{provide:S,multi:!0,useValue:[]},{provide:q,useFactory:L,deps:[x,S]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=F({type:e}),e.\u0275inj=b({});let t=e;return t})();function L(t,e){let s=[];for(let n of t)s.push(...n);for(let n of e)s.push(...n);return s.map(n=>ut(n)?y(n):n)}function Tt(){let t=y(et,{optional:!0,skipSelf:!0}),e=y(x,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Wt=(()=>{let e=class e{constructor(){this._spinnerCounter=0,this.isActive$=new E}activateSpinner(){let n=h([this._spinnerCounter+1]).pipe(m(0)).subscribe(r=>{this._spinnerCounter=r,this.isActive$.next(!0),n.unsubscribe()})}deactivateSpinner(){let n=h([this._spinnerCounter>0?this._spinnerCounter-1:0]).pipe(m(0)).subscribe(r=>{this._spinnerCounter=r,this.isActive$.next(this._spinnerCounter>0),n.unsubscribe()})}resetSpinner(){let n=h([0]).pipe(m(0)).subscribe(r=>{this._spinnerCounter=r,this.isActive$.next(!1),n.unsubscribe()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{Kt as a,Lt as b,Yt as c,Xt as d,Wt as e};
