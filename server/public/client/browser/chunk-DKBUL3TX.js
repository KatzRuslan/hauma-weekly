import{a as ii}from"./chunk-I2SMJOXM.js";import{c as Jt,d as Xe,e as et,f as tt,g as it,h as Xt,i as ei,j as bi,k as vi,l as Ci,m as wt}from"./chunk-VNINKI3Y.js";import{a as mt}from"./chunk-XGC7MIBL.js";import{d as pi}from"./chunk-7BTGCGPX.js";import{b as ti}from"./chunk-SOWXVAUG.js";import{a as St,b as pt,c as dt,d as mi,e as Tt,f as ut,g as Ee,h as Le,i as _i,j as hi,k as fi,l as gi,m as xi,n as yi}from"./chunk-Y4Q22GGC.js";import{H as Ie,I as v,J as Se,K as Ze,P as Ue,Q as Ye,R as Te,S as We,T as Je,U as z,V as W,W as Ct,X as Wt,Y as nt,Z as ni,_ as lt,aa as li,b as Yt,ba as oi,c as bt,ca as It,da as P,e as je,f as Qe,fa as ai,g as vt,ga as ri,ha as si,ia as ot,ja as ci,ka as at,la as rt,ma as C,na as di,oa as ui,qa as ce,ra as we,ta as st,ua as ct,va as Oe,wa as Ve,xa as ke,ya as le,z as qe}from"./chunk-AR5P2KL7.js";import{$ as Ne,$a as $t,Ab as E,Ac as se,Bb as f,Bc as Zt,Cb as M,Cc as Ut,Db as B,Dc as Z,Fa as Kt,Fb as xe,Fc as Be,I as Pe,Ia as Ht,Ib as ye,Ja as Rt,Jb as ne,Kb as F,Lb as H,Ma as gt,Mb as be,Oa as te,Qa as ue,Ra as me,Sa as G,Sb as ve,Tb as Re,Ua as o,Ub as yt,Va as L,Wa as _e,Wb as w,Xb as D,Ya as Ge,Yb as q,Za as k,Zb as O,_a as ze,_b as Ce,bb as g,ca as pe,cb as a,db as Ke,eb as He,fb as he,gb as Q,ia as Y,ib as u,jb as fe,ka as K,kb as Bt,l as De,la as de,lb as jt,mb as Qt,nb as p,ob as c,pa as m,pb as x,q as oe,qa as _,qb as S,ra as Gt,rb as T,rc as qt,s as Nt,sa as zt,sb as V,tb as b,vb as h,vc as ae,wb as s,xb as ge,xc as $e,yb as ie,yc as j,zb as xt,zc as re}from"./chunk-QKGFT424.js";import{a as N,b as $,e as Dt,f as Pt}from"./chunk-ZFMGZBFO.js";var Di=["headerchkbox"],Pi=["filter"],Ni=["lastHiddenFocusableElement"],Gi=["firstHiddenFocusableElement"],zi=["scroller"],Ki=["list"];function Hi(n,r){n&1&&V(0)}var ft=(n,r)=>({$implicit:n,options:r});function Ri(n,r){if(n&1&&(p(0,"div",12),ie(1),u(2,Hi,1,0,"ng-container",13),c()),n&2){let e=s();o(2),a("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",H(2,ft,e.modelValue(),e.visibleOptions()))}}function $i(n,r){n&1&&x(0,"CheckIcon",24),n&2&&(a("styleClass","p-checkbox-icon"),g("aria-hidden",!0))}function Bi(n,r){}function ji(n,r){n&1&&u(0,Bi,0,0,"ng-template")}function Qi(n,r){if(n&1&&(p(0,"span",25),u(1,ji,1,0,null,26),c()),n&2){let e=s(4);g("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.checkIconTemplate)}}function qi(n,r){if(n&1&&(S(0),u(1,$i,1,2,"CheckIcon",22)(2,Qi,2,2,"span",23),T()),n&2){let e=s(3);o(1),a("ngIf",!e.checkIconTemplate),o(1),a("ngIf",e.checkIconTemplate)}}var Si=n=>({"p-checkbox-disabled":n}),Zi=(n,r,e)=>({"p-highlight":n,"p-focus":r,"p-disabled":e});function Ui(n,r){if(n&1){let e=b();p(0,"div",17),h("click",function(t){m(e);let l=s(2);return _(l.onToggleAll(t))})("keydown",function(t){m(e);let l=s(2);return _(l.onHeaderCheckboxKeyDown(t))}),p(1,"div",18)(2,"input",19,20),h("focus",function(t){m(e);let l=s(2);return _(l.onHeaderCheckboxFocus(t))})("blur",function(t){m(e);let l=s(2);return _(l.onHeaderCheckboxBlur(t))}),c()(),p(4,"div",21),u(5,qi,3,2,"ng-container",6),c()()}if(n&2){let e=s(2);a("ngClass",F(8,Si,e.disabled||e.toggleAllDisabled)),o(1),g("data-p-hidden-accessible",!0),o(1),a("disabled",e.disabled||e.toggleAllDisabled),g("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),o(2),a("ngClass",be(10,Zi,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),g("aria-checked",e.allSelected()),o(1),a("ngIf",e.allSelected())}}function Yi(n,r){n&1&&V(0)}var Ti=n=>({options:n});function Wi(n,r){if(n&1&&(S(0),u(1,Yi,1,0,"ng-container",13),T()),n&2){let e=s(2);o(1),a("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",F(2,Ti,e.filterOptions))}}function Ji(n,r){n&1&&x(0,"SearchIcon",24),n&2&&(a("styleClass","p-listbox-filter-icon"),g("aria-hidden",!0))}function Xi(n,r){}function en(n,r){n&1&&u(0,Xi,0,0,"ng-template")}function tn(n,r){if(n&1&&(p(0,"span",33),u(1,en,1,0,null,26),c()),n&2){let e=s(4);g("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.filterIconTemplate)}}function nn(n,r){if(n&1){let e=b();p(0,"div",29)(1,"input",30,31),h("input",function(t){m(e);let l=s(3);return _(l.onFilterChange(t))})("keydown",function(t){m(e);let l=s(3);return _(l.onFilterKeyDown(t))})("blur",function(t){m(e);let l=s(3);return _(l.onFilterBlur(t))}),c(),u(3,Ji,1,2,"SearchIcon",22)(4,tn,2,2,"span",32),c()}if(n&2){let e=s(3);o(1),a("value",e._filterValue()||"")("disabled",e.disabled)("tabindex",!e.disabled&&!e.focused?e.tabindex:-1),g("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),o(2),a("ngIf",!e.filterIconTemplate),o(1),a("ngIf",e.filterIconTemplate)}}function ln(n,r){if(n&1&&(u(0,nn,5,9,"div",27),p(1,"span",28),f(2),c()),n&2){let e=s(2);a("ngIf",e.filter),o(1),g("data-p-hidden-accessible",!0),o(1),B(" ",e.filterResultMessageText," ")}}function on(n,r){if(n&1&&(p(0,"div",12),u(1,Ui,6,14,"div",14)(2,Wi,2,4,"ng-container",15)(3,ln,3,3,"ng-template",null,16,Ce),c()),n&2){let e=E(4),i=s();o(1),a("ngIf",i.checkbox&&i.multiple&&i.showToggleAll),o(1),a("ngIf",i.filterTemplate)("ngIfElse",e)}}function an(n,r){n&1&&V(0)}function rn(n,r){if(n&1&&u(0,an,1,0,"ng-container",13),n&2){let e=r.$implicit,i=r.options;s(2);let t=E(9);a("ngTemplateOutlet",t)("ngTemplateOutletContext",H(2,ft,e,i))}}function sn(n,r){n&1&&V(0)}function cn(n,r){if(n&1&&u(0,sn,1,0,"ng-container",13),n&2){let e=r.options,i=s(3);a("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",F(2,Ti,e))}}function pn(n,r){n&1&&(S(0),u(1,cn,1,4,"ng-template",37),T())}var Ot=n=>({height:n});function dn(n,r){if(n&1){let e=b();p(0,"p-scroller",34,35),h("onLazyLoad",function(t){m(e);let l=s();return _(l.onLazyLoad.emit(t))}),u(2,rn,1,5,"ng-template",36)(3,pn,2,0,"ng-container",6),c()}if(n&2){let e=s();he(F(9,Ot,e.scrollHeight)),a("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),o(3),a("ngIf",e.loaderTemplate)}}function un(n,r){n&1&&V(0)}var mn=()=>({});function _n(n,r){if(n&1&&(S(0),u(1,un,1,0,"ng-container",13),T()),n&2){let e=s(),i=E(9);o(1),a("ngTemplateOutlet",i)("ngTemplateOutletContext",H(3,ft,e.visibleOptions(),ne(2,mn)))}}function hn(n,r){if(n&1&&(p(0,"span"),f(1),c()),n&2){let e=s(2).$implicit,i=s(2);o(1),M(i.getOptionGroupLabel(e.optionGroup))}}function fn(n,r){n&1&&V(0)}var gn=n=>({$implicit:n});function xn(n,r){if(n&1&&(S(0),p(1,"li",42),u(2,hn,2,1,"span",6)(3,fn,1,0,"ng-container",13),c(),T()),n&2){let e=s(),i=e.index,t=e.$implicit,l=s().options,d=s();o(1),a("ngStyle",F(5,Ot,l.itemSize+"px")),g("id",d.id+"_"+d.getOptionIndex(i,l)),o(1),a("ngIf",!d.groupTemplate),o(1),a("ngTemplateOutlet",d.groupTemplate)("ngTemplateOutletContext",F(7,gn,t.optionGroup))}}function yn(n,r){n&1&&x(0,"CheckIcon",24),n&2&&(a("styleClass","p-checkbox-icon"),g("aria-hidden",!0))}function bn(n,r){}function vn(n,r){n&1&&u(0,bn,0,0,"ng-template")}function Cn(n,r){if(n&1&&(p(0,"span",25),u(1,vn,1,0,null,26),c()),n&2){let e=s(6);g("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.checkIconTemplate)}}function In(n,r){if(n&1&&(S(0),u(1,yn,1,2,"CheckIcon",22)(2,Cn,2,2,"span",23),T()),n&2){let e=s(5);o(1),a("ngIf",!e.checkIconTemplate),o(1),a("ngIf",e.checkIconTemplate)}}var Sn=n=>({"p-highlight":n});function Tn(n,r){if(n&1&&(p(0,"div",45)(1,"div",46),u(2,In,3,2,"ng-container",6),c()()),n&2){let e=s(2).$implicit,i=s(2);a("ngClass",F(3,Si,i.disabled||i.isOptionDisabled(e))),o(1),a("ngClass",F(5,Sn,i.isSelected(e))),o(1),a("ngIf",i.isSelected(e))}}function wn(n,r){if(n&1&&(p(0,"span"),f(1),c()),n&2){let e=s(2).$implicit,i=s(2);o(1),M(i.getOptionLabel(e))}}function On(n,r){n&1&&V(0)}var Vn=(n,r,e)=>({"p-listbox-item":!0,"p-highlight":n,"p-focus":r,"p-disabled":e}),kn=(n,r)=>({$implicit:n,index:r});function En(n,r){if(n&1){let e=b();S(0),p(1,"li",43),h("click",function(t){m(e);let l=s(),d=l.$implicit,y=l.index,I=s().options,A=s();return _(A.onOptionSelect(t,d,A.getOptionIndex(y,I)))})("dblclick",function(t){m(e);let l=s().$implicit,d=s(2);return _(d.onOptionDoubleClick(t,l))})("mousedown",function(t){m(e);let l=s().index,d=s().options,y=s();return _(y.onOptionMouseDown(t,y.getOptionIndex(l,d)))})("mouseenter",function(t){m(e);let l=s().index,d=s().options,y=s();return _(y.onOptionMouseEnter(t,y.getOptionIndex(l,d)))})("touchend",function(){m(e);let t=s(3);return _(t.onOptionTouchEnd())}),u(2,Tn,3,7,"div",44)(3,wn,2,1,"span",6)(4,On,1,0,"ng-container",13),c(),T()}if(n&2){let e=s(),i=e.$implicit,t=e.index,l=s().options,d=s();o(1),a("ngStyle",F(12,Ot,l.itemSize+"px"))("ngClass",be(14,Vn,d.isSelected(i),d.focusedOptionIndex()===d.getOptionIndex(t,l),d.isOptionDisabled(i)))("ariaPosInset",d.getAriaPosInset(d.getOptionIndex(t,l))),g("id",d.id+"_"+d.getOptionIndex(t,l))("aria-label",d.getOptionLabel(i))("aria-selected",d.isSelected(i))("aria-disabled",d.isOptionDisabled(i))("aria-setsize",d.ariaSetSize),o(1),a("ngIf",d.checkbox&&d.multiple),o(1),a("ngIf",!d.itemTemplate),o(1),a("ngTemplateOutlet",d.itemTemplate)("ngTemplateOutletContext",H(18,kn,i,d.getOptionIndex(t,l)))}}function Ln(n,r){if(n&1&&u(0,xn,4,9,"ng-container",6)(1,En,5,21,"ng-container",6),n&2){let e=r.$implicit,i=s(2);a("ngIf",i.isOptionGroup(e)),o(1),a("ngIf",!i.isOptionGroup(e))}}function Fn(n,r){if(n&1&&(S(0),f(1),T()),n&2){let e=s(3);o(1),B(" ",e.emptyFilterMessageText," ")}}function Mn(n,r){n&1&&V(0,null,48)}function An(n,r){if(n&1&&(p(0,"li",47),u(1,Fn,2,1,"ng-container",15)(2,Mn,2,0,"ng-container",26),c()),n&2){let e=s(2);o(1),a("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),o(1),a("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function Dn(n,r){if(n&1&&(S(0),f(1),T()),n&2){let e=s(3);o(1),B(" ",e.emptyMessage," ")}}function Pn(n,r){n&1&&V(0,null,49)}function Nn(n,r){if(n&1&&(p(0,"li",47),u(1,Dn,2,1,"ng-container",15)(2,Pn,2,0,"ng-container",26),c()),n&2){let e=s(2);o(1),a("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),o(1),a("ngTemplateOutlet",e.emptyTemplate)}}function Gn(n,r){if(n&1){let e=b();p(0,"ul",38,39),h("focus",function(t){m(e);let l=s();return _(l.onListFocus(t))})("blur",function(t){m(e);let l=s();return _(l.onListBlur(t))})("keydown",function(t){m(e);let l=s();return _(l.onListKeyDown(t))}),u(2,Ln,2,2,"ng-template",40)(3,An,3,3,"li",41)(4,Nn,3,3,"li",41),c()}if(n&2){let e=r.$implicit,i=r.options,t=s();he(i.contentStyle),a("tabindex",-1)("ngClass",i.contentStyleClass),g("aria-multiselectable",!0)("aria-activedescendant",t.focused?t.focusedOptionId:void 0)("aria-label",t.ariaLabel)("aria-multiselectable",t.multiple)("aria-disabled",t.disabled),o(2),a("ngForOf",e),o(1),a("ngIf",t.hasFilter()&&t.isEmpty()),o(1),a("ngIf",!t.hasFilter()&&t.isEmpty())}}function zn(n,r){n&1&&V(0)}function Kn(n,r){if(n&1&&(p(0,"div",50),ie(1,1),u(2,zn,1,0,"ng-container",13),c()),n&2){let e=s();o(2),a("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",H(2,ft,e.modelValue(),e.visibleOptions()))}}function Hn(n,r){if(n&1&&(p(0,"span",10),f(1),c()),n&2){let e=s();o(1),B(" ",e.emptyMessage," ")}}var Rn=[[["p-header"]],[["p-footer"]]],$n=["p-header","p-footer"],Bn={provide:nt,useExisting:Ne(()=>Vt),multi:!0},Vt=(()=>{class n{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}onChange=new k;onClick=new k;onDblClick=new k;onFilter=new k;onFocus=new k;onBlur=new k;onSelectAllChange=new k;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=G(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;get containerClass(){return{"p-listbox p-component":!0,"p-focus":this.focused,"p-disabled":this.disabled}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return v.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=G(null);startRangeIndex=G(-1);focusedOptionIndex=G(-1);modelValue=G(null);visibleOptions=me(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[];return this._filterValue()?this.filterService.filter(e,this.searchFields,this._filterValue(),this.filterMatchMode,this.filterLocale):e});constructor(e,i,t,l,d){this.el=e,this.cd=i,this.filterService=t,this.config=l,this.renderer=d}ngOnInit(){this.id=this.id||Se(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}writeValue(e){this.value=e,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}flatOptions(e){return(e||[]).reduce((i,t,l)=>{i.push({optionGroup:t,group:!0,index:l});let d=this.getOptionGroupChildren(t);return d&&d.forEach(y=>i.push(y)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,i){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.onChange.emit({originalEvent:i,value:this.value})}removeOption(e){return this.modelValue().filter(i=>!v.equals(i,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,i,t=-1){this.disabled||this.isOptionDisabled(i)||(e&&this.onClick.emit({originalEvent:e,option:i,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,i):this.onOptionSelectSingle(e,i),this.optionTouched=!1,t!==-1&&this.focusedOptionIndex.set(t))}onOptionSelectMultiple(e,i){let t=this.isSelected(i),l=null;if(this.optionTouched?!1:this.metaKeySelection){let y=e.metaKey||e.ctrlKey;t?l=y?this.removeOption(i):[this.getOptionValue(i)]:(l=y?this.modelValue()||[]:[],l=[...l,this.getOptionValue(i)])}else l=t?this.removeOption(i):[...this.modelValue()||[],this.getOptionValue(i)];this.updateModel(l,e)}onOptionSelectSingle(e,i){let t=this.isSelected(i),l=!1,d=null;if(this.optionTouched?!1:this.metaKeySelection){let I=e.metaKey||e.ctrlKey;t?I&&(d=null,l=!0):(d=this.getOptionValue(i),l=!0)}else d=t?null:this.getOptionValue(i),l=!0;l&&this.updateModel(d,e)}onOptionSelectRange(e,i=-1,t=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(t,!0)),t===-1&&(t=this.findNearestSelectedOptionIndex(i)),i!==-1&&t!==-1){let l=Math.min(i,t),d=Math.max(i,t),y=this.visibleOptions().slice(l,d+1).filter(I=>this.isValidOption(I)).map(I=>this.getOptionValue(I));this.updateModel(y,e)}}onToggleAll(e){if(!(this.disabled||this.readonly)){if(C.focus(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.allSelected()?[]:this.visibleOptions().filter(t=>this.isValidOption(t)).map(t=>this.getOptionValue(t));this.updateModel(i,e),this.onChange.emit({originalEvent:e,value:this.value})}e.preventDefault()}}allSelected(){return this.selectAll!==null?this.selectAll:v.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(e,i){this.changeFocusedOptionIndex(e,i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onOptionDoubleClick(e,i){this.disabled||this.isOptionDisabled(i)||this.readonly||this.onDblClick.emit({originalEvent:e,option:i,value:this.value})}onFirstHiddenFocus(e){C.focus(this.listViewChild.nativeElement);let i=C.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=v.isEmpty(i)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild.nativeElement){let t=C.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");C.focus(t),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else C.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0)}onListFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.onFocus.emit(e)}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(e){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){C.focus(this.listViewChild.nativeElement),e.preventDefault()}onFilterChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&i){let t=this.visibleOptions().filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(t,e),e.preventDefault();break}!i&&v.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowUpKey(e){let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,i,this.startRangeIndex()),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onHomeKey(e,i=!1){if(i)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let t=e.metaKey||e.ctrlKey,l=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&t&&this.onOptionSelectRange(e,l,this.startRangeIndex()),this.changeFocusedOptionIndex(e,l)}e.preventDefault()}onEndKey(e,i=!1){if(i){let t=e.currentTarget,l=t.value.length;t.setSelectionRange(l,l),this.focusedOptionIndex.set(-1)}else{let t=e.metaKey||e.ctrlKey,l=this.findLastOptionIndex();this.multiple&&e.shiftKey&&t&&this.onOptionSelectRange(e,this.startRangeIndex(),l),this.changeFocusedOptionIndex(e,l)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?v.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?v.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?v.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionValue(e){return this.optionValue?v.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}hasSelectedOption(){return v.isNotEmpty(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[i]))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let t=-1,l=!1;return this.focusedOptionIndex()!==-1?(t=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)),t=t===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)):t+this.focusedOptionIndex()):t=this.visibleOptions().findIndex(d=>this.isOptionMatched(d)),t!==-1&&(l=!0),t===-1&&this.focusedOptionIndex()===-1&&(t=this.findFirstFocusedOptionIndex()),t!==-1&&this.changeFocusedOptionIndex(e,t),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),l}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId,t=C.findSingle(this.listViewChild.nativeElement,`li[id="${i}"]`);t?t.scrollIntoView&&t.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return v.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?v.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(t=>this.isValidOption(t)):-1;return i>-1?i+e+1:e}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(t=>this.isValidSelectedOption(t)):-1;return i>-1?i+e+1:-1}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?v.findLastIndex(this.visibleOptions().slice(0,e),t=>this.isValidSelectedOption(t)):-1;return i>-1?i:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let i=e>0?v.findLastIndex(this.visibleOptions().slice(0,e),t=>this.isValidOption(t)):-1;return i>-1?i:e}findNearestSelectedOptionIndex(e,i=!1){let t=-1;return this.hasSelectedOption()&&(i?(t=this.findPrevSelectedOptionIndex(e),t=t===-1?this.findNextSelectedOptionIndex(e):t):(t=this.findNextSelectedOptionIndex(e),t=t===-1?this.findPrevSelectedOptionIndex(e):t)),t>-1?t:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return this.optionDisabled?v.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){let i=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(t=>v.equals(t,i,this.equalityKey())):v.equals(this.modelValue(),i,this.equalityKey())}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()||this._options()&&this._options().length===0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(L(te),L(_e),L(Ue),L(Te),L(ue))};static \u0275cmp=K({type:n,selectors:[["p-listbox"]],contentQueries:function(i,t,l){if(i&1&&(q(l,We,5),q(l,Je,5),q(l,z,4)),i&2){let d;w(d=O())&&(t.headerFacet=d.first),w(d=O())&&(t.footerFacet=d.first),w(d=O())&&(t.templates=d)}},viewQuery:function(i,t){if(i&1&&(D(Di,5),D(Pi,5),D(Ni,5),D(Gi,5),D(zi,5),D(Ki,5)),i&2){let l;w(l=O())&&(t.headerCheckboxViewChild=l.first),w(l=O())&&(t.filterViewChild=l.first),w(l=O())&&(t.lastHiddenFocusableElement=l.first),w(l=O())&&(t.firstHiddenFocusableElement=l.first),w(l=O())&&(t.scroller=l.first),w(l=O())&&(t.listViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:"autoOptionFocus",selectOnFocus:"selectOnFocus",searchLocale:"searchLocale",focusOnHover:"focusOnHover",filterMessage:"filterMessage",filterFields:"filterFields",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[xe([Bn])],ngContentSelectors:$n,decls:16,vars:24,consts:[[3,"ngClass","ngStyle","focusout"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"tabindex","focus"],["firstHiddenFocusableElement",""],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],["lastHiddenFocusableElement",""],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass","click","keydown"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"disabled","focus","blur"],["headerchkbox",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","tabindex","input","keydown","blur"],["filterInput",""],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"tabindex","ngClass","focus","blur","keydown"],["list",""],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"ngStyle","ngClass","ariaPosInset","click","dblclick","mousedown","mouseenter","touchend"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(i,t){i&1&&(ge(Rn),p(0,"div",0),h("focusout",function(d){return t.onFocusout(d)}),p(1,"span",1,2),h("focus",function(d){return t.onFirstHiddenFocus(d)}),c(),u(3,Ri,3,5,"div",3)(4,on,5,3,"div",3),p(5,"div",4),u(6,dn,4,11,"p-scroller",5)(7,_n,2,6,"ng-container",6)(8,Gn,5,12,"ng-template",null,7,Ce),c(),u(10,Kn,3,5,"div",8)(11,Hn,2,1,"span",9),p(12,"span",10),f(13),c(),p(14,"span",1,11),h("focus",function(d){return t.onLastHiddenFocus(d)}),c()()),i&2&&(Q(t.styleClass),a("ngClass",t.containerClass)("ngStyle",t.style),g("id",t.id),o(1),a("tabindex",t.disabled?-1:t.tabindex),g("aria-hidden",!0)("data-p-hidden-focusable",!0),o(2),a("ngIf",t.headerFacet||t.headerTemplate),o(1),a("ngIf",t.checkbox&&t.multiple&&t.showToggleAll||t.filter),o(1),Q(t.listStyleClass),Ke("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),a("ngClass","p-listbox-list-wrapper")("ngStyle",t.listStyle),o(1),a("ngIf",t.virtualScroll),o(1),a("ngIf",!t.virtualScroll),o(3),a("ngIf",t.footerFacet||t.footerTemplate),o(1),a("ngIf",t.isEmpty()),o(2),B(" ",t.selectedMessageText," "),o(1),a("tabindex",t.disabled?-1:t.tabindex),g("aria-hidden",!0)("data-p-hidden-focusable",!0))},dependencies:()=>[ae,$e,j,se,re,z,ce,ut,Le,le],styles:[`@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),wi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=de({type:n});static \u0275inj=pe({imports:[Z,W,we,Ee,Le,le,W,Ee]})}return n})();function Qn(n,r){n&1&&V(0)}function qn(n,r){n&1&&x(0,"TimesIcon",8),n&2&&a("styleClass","p-overlaypanel-close-icon")}function Zn(n,r){}function Un(n,r){n&1&&u(0,Zn,0,0,"ng-template")}function Yn(n,r){if(n&1&&(p(0,"span",9),u(1,Un,1,0,null,3),c()),n&2){let e=s(3);o(1),a("ngTemplateOutlet",e.closeIconTemplate)}}function Wn(n,r){if(n&1){let e=b();p(0,"button",5),h("click",function(t){m(e);let l=s(2);return _(l.onCloseClick(t))})("keydown.enter",function(){m(e);let t=s(2);return _(t.hide())}),u(1,qn,1,1,"TimesIcon",6)(2,Yn,2,1,"span",7),c()}if(n&2){let e=s(2);g("aria-label",e.ariaCloseLabel),o(1),a("ngIf",!e.closeIconTemplate),o(1),a("ngIf",e.closeIconTemplate)}}var Jn=(n,r)=>({showTransitionParams:n,hideTransitionParams:r}),Xn=(n,r)=>({value:n,params:r});function el(n,r){if(n&1){let e=b();p(0,"div",1),h("click",function(t){m(e);let l=s();return _(l.onOverlayClick(t))})("@animation.start",function(t){m(e);let l=s();return _(l.onAnimationStart(t))})("@animation.done",function(t){m(e);let l=s();return _(l.onAnimationEnd(t))}),p(1,"div",2),h("click",function(t){m(e);let l=s();return _(l.onContentClick(t))})("mousedown",function(t){m(e);let l=s();return _(l.onContentClick(t))}),ie(2),u(3,Qn,1,0,"ng-container",3),c(),u(4,Wn,3,3,"button",4),c()}if(n&2){let e=s();Q(e.styleClass),a("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",H(13,Xn,e.overlayVisible?"open":"close",H(10,Jn,e.showTransitionOptions,e.hideTransitionOptions))),g("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),o(3),a("ngTemplateOutlet",e.contentTemplate),o(1),a("ngIf",e.showCloseIcon)}}var tl=["*"],Oi=(()=>{class n{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new k;onHide=new k;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,i,t,l,d,y,I,A){this.document=e,this.platformId=i,this.el=t,this.renderer=l,this.cd=d,this.zone=y,this.config=I,this.overlayService=A}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(Be(this.platformId)&&!this.documentClickListener&&this.dismissable){let e=C.isIOS()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,t=>{!this.container?.contains(t.target)&&this.target!==t.target&&!this.target.contains(t.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i))}show(e,i){i&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let i=e.target;this.selfClick=e.offsetX<i.clientWidth&&e.offsetY<i.clientHeight}hasTargetChanged(e,i){return this.target!=null&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):C.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&Ze.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),C.absolutePosition(this.container,this.target);let e=C.getOffset(this.container),i=C.getOffset(this.target),t=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),l=0;e.left<i.left&&(l=i.left-e.left-parseFloat(t)*2),this.container?.style.setProperty("--overlayArrowLeft",`${l}px`),e.top<i.top&&(C.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&Ze.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=C.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!C.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){if(Be(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){Be(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new di(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Ze.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(L(qt),L(Kt),L(te),L(ue),L(_e),L(ze),L(Te),L(Ye))};static \u0275cmp=K({type:n,selectors:[["p-overlayPanel"]],contentQueries:function(i,t,l){if(i&1&&q(l,z,4),i&2){let d;w(d=O())&&(t.templates=d)}},hostAttrs:[1,"p-element"],hostBindings:function(i,t){i&1&&h("keydown.escape",function(d){return t.onEscapeKeydown(d)},!1,Rt)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:tl,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(i,t){i&1&&(ge(),u(0,el,5,16,"div",0)),i&2&&a("ngIf",t.render)},dependencies:()=>[ae,j,se,re,ce,Oe],styles:[`@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}
`],encapsulation:2,data:{animation:[Yt("animation",[Qe("void",je({transform:"scaleY(0.8)",opacity:0})),Qe("close",je({opacity:0})),Qe("open",je({transform:"translateY(0)",opacity:1})),vt("void => open",bt("{{showTransitionParams}}")),vt("open => close",bt("{{hideTransitionParams}}"))])]},changeDetection:0})}return n})(),Vi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=de({type:n});static \u0275inj=pe({imports:[Z,we,W,Oe,W]})}return n})();var kt=(()=>{class n extends ui{pathId;ngOnInit(){this.pathId="url(#"+Se()+")"}static \u0275fac=(()=>{let e;return function(t){return(e||(e=zt(n)))(t||n)}})();static \u0275cmp=K({type:n,selectors:[["TimesCircleIcon"]],standalone:!0,features:[$t,ye],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,t){i&1&&(Gt(),p(0,"svg",0)(1,"g"),x(2,"path",1),c(),p(3,"defs")(4,"clipPath",2),x(5,"rect",3),c()()()),i&2&&(Q(t.getClassNames()),g("aria-label",t.ariaLabel)("aria-hidden",t.ariaHidden)("role",t.role),o(1),g("clip-path",t.pathId),o(3),a("id",t.pathId))},encapsulation:2})}return n})();function nl(n,r){n&1&&x(0,"CheckIcon",7),n&2&&(a("styleClass","p-checkbox-icon"),g("aria-hidden",!0))}function ll(n,r){}function ol(n,r){n&1&&u(0,ll,0,0,"ng-template")}function al(n,r){if(n&1&&(p(0,"span",8),u(1,ol,1,0,null,9),c()),n&2){let e=s(2);g("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.checkIconTemplate)}}function rl(n,r){if(n&1&&(S(0),u(1,nl,1,2,"CheckIcon",5)(2,al,2,2,"span",6),T()),n&2){let e=s();o(1),a("ngIf",!e.checkIconTemplate),o(1),a("ngIf",e.checkIconTemplate)}}function sl(n,r){if(n&1&&(p(0,"span"),f(1),c()),n&2){let e=s(),i;o(1),M((i=e.label)!==null&&i!==void 0?i:"empty")}}function cl(n,r){n&1&&V(0)}var Me=n=>({height:n}),pl=(n,r,e)=>({"p-multiselect-item":!0,"p-highlight":n,"p-disabled":r,"p-focus":e}),dl=n=>({"p-highlight":n}),Et=n=>({$implicit:n}),ul=["container"],ml=["overlay"],_l=["filterInput"],hl=["focusInput"],fl=["items"],gl=["scroller"],xl=["lastHiddenFocusableEl"],yl=["firstHiddenFocusableEl"],bl=["headerCheckbox"];function vl(n,r){if(n&1&&(S(0),f(1),T()),n&2){let e=s(2);o(1),M(e.label()||"empty")}}function Cl(n,r){if(n&1){let e=b();p(0,"TimesCircleIcon",20),h("click",function(){m(e);let t=s(2).$implicit,l=s(3);return _(l.removeOption(t,l.event))}),c()}n&2&&(a("styleClass","p-multiselect-token-icon"),g("data-pc-section","clearicon")("aria-hidden",!0))}function Il(n,r){n&1&&V(0)}function Sl(n,r){if(n&1){let e=b();p(0,"span",21),h("click",function(){m(e);let t=s(2).$implicit,l=s(3);return _(l.removeOption(t,l.event))}),u(1,Il,1,0,"ng-container",22),c()}if(n&2){let e=s(5);g("data-pc-section","clearicon")("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.removeTokenIconTemplate)}}function Tl(n,r){if(n&1&&(S(0),u(1,Cl,1,3,"TimesCircleIcon",18)(2,Sl,2,3,"span",19),T()),n&2){let e=s(4);o(1),a("ngIf",!e.removeTokenIconTemplate),o(1),a("ngIf",e.removeTokenIconTemplate)}}function wl(n,r){if(n&1&&(p(0,"div",15,16)(2,"span",17),f(3),c(),u(4,Tl,3,2,"ng-container",7),c()),n&2){let e=r.$implicit,i=s(3);o(3),M(i.getLabelByValue(e)),o(1),a("ngIf",!i.disabled)}}function Ol(n,r){if(n&1&&(S(0),f(1),T()),n&2){let e=s(3);o(1),M(e.placeholder||e.defaultLabel||"empty")}}function Vl(n,r){if(n&1&&(S(0),u(1,wl,5,2,"div",14)(2,Ol,2,1,"ng-container",7),T()),n&2){let e=s(2);o(1),a("ngForOf",e.chipSelectedItems()),o(1),a("ngIf",!e.modelValue()||e.modelValue().length===0)}}function kl(n,r){if(n&1&&(S(0),u(1,vl,2,1,"ng-container",7)(2,Vl,3,2,"ng-container",7),T()),n&2){let e=s();o(1),a("ngIf",e.display==="comma"),o(1),a("ngIf",e.display==="chip")}}function El(n,r){n&1&&V(0)}function Ll(n,r){if(n&1){let e=b();p(0,"TimesIcon",20),h("click",function(t){m(e);let l=s(2);return _(l.clear(t))}),c()}n&2&&(a("styleClass","p-multiselect-clear-icon"),g("data-pc-section","clearicon")("aria-hidden",!0))}function Fl(n,r){}function Ml(n,r){n&1&&u(0,Fl,0,0,"ng-template")}function Al(n,r){if(n&1){let e=b();p(0,"span",24),h("click",function(t){m(e);let l=s(2);return _(l.clear(t))}),u(1,Ml,1,0,null,22),c()}if(n&2){let e=s(2);g("data-pc-section","clearicon")("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.clearIconTemplate)}}function Dl(n,r){if(n&1&&(S(0),u(1,Ll,1,3,"TimesIcon",18)(2,Al,2,3,"span",23),T()),n&2){let e=s();o(1),a("ngIf",!e.clearIconTemplate),o(1),a("ngIf",e.clearIconTemplate)}}function Pl(n,r){if(n&1&&x(0,"span",27),n&2){let e=s(2);a("ngClass",e.dropdownIcon),g("data-pc-section","triggericon")("aria-hidden",!0)}}function Nl(n,r){n&1&&x(0,"ChevronDownIcon",28),n&2&&(a("styleClass","p-multiselect-trigger-icon"),g("data-pc-section","triggericon")("aria-hidden",!0))}function Gl(n,r){if(n&1&&(S(0),u(1,Pl,1,3,"span",25)(2,Nl,1,3,"ChevronDownIcon",26),T()),n&2){let e=s();o(1),a("ngIf",e.dropdownIcon),o(1),a("ngIf",!e.dropdownIcon)}}function zl(n,r){}function Kl(n,r){n&1&&u(0,zl,0,0,"ng-template")}function Hl(n,r){if(n&1&&(p(0,"span",29),u(1,Kl,1,0,null,22),c()),n&2){let e=s();g("data-pc-section","triggericon")("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.dropdownIconTemplate)}}function Rl(n,r){n&1&&V(0)}function $l(n,r){n&1&&V(0)}var Ei=n=>({options:n});function Bl(n,r){if(n&1&&(S(0),u(1,$l,1,0,"ng-container",8),T()),n&2){let e=s(3);o(1),a("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",F(2,Ei,e.filterOptions))}}function jl(n,r){n&1&&x(0,"CheckIcon",28),n&2&&(a("styleClass","p-checkbox-icon"),g("aria-hidden",!0))}function Ql(n,r){}function ql(n,r){n&1&&u(0,Ql,0,0,"ng-template")}function Zl(n,r){if(n&1&&(p(0,"span",51),u(1,ql,1,0,null,8),c()),n&2){let e=s(6);g("aria-hidden",!0),o(1),a("ngTemplateOutlet",e.checkIconTemplate)("ngTemplateOutletContext",F(3,Et,e.allSelected()))}}function Ul(n,r){if(n&1&&(S(0),u(1,jl,1,2,"CheckIcon",26)(2,Zl,2,5,"span",50),T()),n&2){let e=s(5);o(1),a("ngIf",!e.checkIconTemplate),o(1),a("ngIf",e.checkIconTemplate)}}var Yl=n=>({"p-checkbox-disabled":n}),Wl=(n,r,e)=>({"p-highlight":n,"p-focus":r,"p-disabled":e});function Jl(n,r){if(n&1){let e=b();p(0,"div",46),h("click",function(t){m(e);let l=s(4);return _(l.onToggleAll(t))})("keydown",function(t){m(e);let l=s(4);return _(l.onHeaderCheckboxKeyDown(t))}),p(1,"div",2)(2,"input",47,48),h("focus",function(){m(e);let t=s(4);return _(t.onHeaderCheckboxFocus())})("blur",function(){m(e);let t=s(4);return _(t.onHeaderCheckboxBlur())}),c()(),p(4,"div",49),u(5,Ul,3,2,"ng-container",7),c()()}if(n&2){let e=s(4);a("ngClass",F(9,Yl,e.disabled||e.toggleAllDisabled)),o(1),g("data-p-hidden-accessible",!0),o(1),a("readonly",e.readonly)("disabled",e.disabled||e.toggleAllDisabled),g("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),o(2),a("ngClass",be(11,Wl,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),g("aria-checked",e.allSelected()),o(1),a("ngIf",e.allSelected())}}function Xl(n,r){n&1&&x(0,"SearchIcon",28),n&2&&a("styleClass","p-multiselect-filter-icon")}function eo(n,r){}function to(n,r){n&1&&u(0,eo,0,0,"ng-template")}function io(n,r){if(n&1&&(p(0,"span",56),u(1,to,1,0,null,22),c()),n&2){let e=s(5);o(1),a("ngTemplateOutlet",e.filterIconTemplate)}}function no(n,r){if(n&1){let e=b();p(0,"div",52)(1,"input",53,54),h("input",function(t){m(e);let l=s(4);return _(l.onFilterInputChange(t))})("keydown",function(t){m(e);let l=s(4);return _(l.onFilterKeyDown(t))})("click",function(t){m(e);let l=s(4);return _(l.onInputClick(t))})("blur",function(t){m(e);let l=s(4);return _(l.onFilterBlur(t))}),c(),u(3,Xl,1,1,"SearchIcon",26)(4,io,2,1,"span",55),c()}if(n&2){let e=s(4);o(1),a("value",e._filterValue()||"")("disabled",e.disabled),g("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),o(2),a("ngIf",!e.filterIconTemplate),o(1),a("ngIf",e.filterIconTemplate)}}function lo(n,r){n&1&&x(0,"TimesIcon",28),n&2&&a("styleClass","p-multiselect-close-icon")}function oo(n,r){}function ao(n,r){n&1&&u(0,oo,0,0,"ng-template")}function ro(n,r){if(n&1&&(p(0,"span",57),u(1,ao,1,0,null,22),c()),n&2){let e=s(4);o(1),a("ngTemplateOutlet",e.closeIconTemplate)}}function so(n,r){if(n&1){let e=b();u(0,Jl,6,15,"div",42)(1,no,5,10,"div",43),p(2,"button",44),h("click",function(t){m(e);let l=s(3);return _(l.close(t))}),u(3,lo,1,1,"TimesIcon",26)(4,ro,2,1,"span",45),c()}if(n&2){let e=s(3);a("ngIf",e.showToggleAll&&!e.selectionLimit),o(1),a("ngIf",e.filter),o(1),g("aria-label",e.closeAriaLabel),o(1),a("ngIf",!e.closeIconTemplate),o(1),a("ngIf",e.closeIconTemplate)}}function co(n,r){if(n&1&&(p(0,"div",39),ie(1),u(2,Rl,1,0,"ng-container",22)(3,Bl,2,4,"ng-container",40)(4,so,5,5,"ng-template",null,41,Ce),c()),n&2){let e=E(5),i=s(2);o(2),a("ngTemplateOutlet",i.headerTemplate),o(1),a("ngIf",i.filterTemplate)("ngIfElse",e)}}function po(n,r){n&1&&V(0)}var Li=(n,r)=>({$implicit:n,options:r});function uo(n,r){if(n&1&&u(0,po,1,0,"ng-container",8),n&2){let e=r.$implicit,i=r.options;s(2);let t=E(8);a("ngTemplateOutlet",t)("ngTemplateOutletContext",H(2,Li,e,i))}}function mo(n,r){n&1&&V(0)}function _o(n,r){if(n&1&&u(0,mo,1,0,"ng-container",8),n&2){let e=r.options,i=s(4);a("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",F(2,Ei,e))}}function ho(n,r){n&1&&(S(0),u(1,_o,1,4,"ng-template",60),T())}function fo(n,r){if(n&1){let e=b();p(0,"p-scroller",58,59),h("onLazyLoad",function(t){m(e);let l=s(2);return _(l.onLazyLoad.emit(t))}),u(2,uo,1,5,"ng-template",13)(3,ho,2,0,"ng-container",7),c()}if(n&2){let e=s(2);he(F(9,Me,e.scrollHeight)),a("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),o(3),a("ngIf",e.loaderTemplate)}}function go(n,r){n&1&&V(0)}var xo=()=>({});function yo(n,r){if(n&1&&(S(0),u(1,go,1,0,"ng-container",8),T()),n&2){s();let e=E(8),i=s();o(1),a("ngTemplateOutlet",e)("ngTemplateOutletContext",H(3,Li,i.visibleOptions(),ne(2,xo)))}}function bo(n,r){if(n&1&&(p(0,"span"),f(1),c()),n&2){let e=s(2).$implicit,i=s(3);o(1),M(i.getOptionGroupLabel(e.optionGroup))}}function vo(n,r){n&1&&V(0)}function Co(n,r){if(n&1&&(S(0),p(1,"li",65),u(2,bo,2,1,"span",7)(3,vo,1,0,"ng-container",8),c(),T()),n&2){let e=s(),i=e.index,t=e.$implicit,l=s().options,d=s(2);o(1),a("ngStyle",F(5,Me,l.itemSize+"px")),g("id",d.id+"_"+d.getOptionIndex(i,l)),o(1),a("ngIf",!d.groupTemplate),o(1),a("ngTemplateOutlet",d.groupTemplate)("ngTemplateOutletContext",F(7,Et,t.optionGroup))}}function Io(n,r){if(n&1){let e=b();S(0),p(1,"p-multiSelectItem",66),h("onClick",function(t){m(e);let l=s().index,d=s().options,y=s(2);return _(y.onOptionSelect(t,!1,y.getOptionIndex(l,d)))})("onMouseEnter",function(t){m(e);let l=s().index,d=s().options,y=s(2);return _(y.onOptionMouseEnter(t,y.getOptionIndex(l,d)))}),c(),T()}if(n&2){let e=s(),i=e.index,t=e.$implicit,l=s().options,d=s(2);o(1),a("id",d.id+"_"+d.getOptionIndex(i,l))("option",t)("selected",d.isSelected(t))("label",d.getOptionLabel(t))("disabled",d.isOptionDisabled(t))("template",d.itemTemplate)("checkIconTemplate",d.checkIconTemplate)("itemSize",l.itemSize)("focused",d.focusedOptionIndex()===d.getOptionIndex(i,l))("ariaPosInset",d.getAriaPosInset(d.getOptionIndex(i,l)))("ariaSetSize",d.ariaSetSize)}}function So(n,r){if(n&1&&u(0,Co,4,9,"ng-container",7)(1,Io,2,11,"ng-container",7),n&2){let e=r.$implicit,i=s(3);a("ngIf",i.isOptionGroup(e)),o(1),a("ngIf",!i.isOptionGroup(e))}}function To(n,r){if(n&1&&(S(0),f(1),T()),n&2){let e=s(4);o(1),B(" ",e.emptyFilterMessageLabel," ")}}function wo(n,r){n&1&&V(0,null,68)}function Oo(n,r){if(n&1&&(p(0,"li",67),u(1,To,2,1,"ng-container",40)(2,wo,2,0,"ng-container",22),c()),n&2){let e=s().options,i=s(2);a("ngStyle",F(4,Me,e.itemSize+"px")),o(1),a("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),o(1),a("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Vo(n,r){if(n&1&&(S(0),f(1),T()),n&2){let e=s(4);o(1),B(" ",e.emptyMessageLabel," ")}}function ko(n,r){n&1&&V(0,null,69)}function Eo(n,r){if(n&1&&(p(0,"li",67),u(1,Vo,2,1,"ng-container",40)(2,ko,2,0,"ng-container",22),c()),n&2){let e=s().options,i=s(2);a("ngStyle",F(4,Me,e.itemSize+"px")),o(1),a("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),o(1),a("ngTemplateOutlet",i.emptyTemplate)}}function Lo(n,r){if(n&1&&(p(0,"ul",61,62),u(2,So,2,2,"ng-template",63)(3,Oo,3,6,"li",64)(4,Eo,3,6,"li",64),c()),n&2){let e=r.$implicit,i=r.options,t=s(2);he(i.contentStyle),a("ngClass",i.contentStyleClass),o(2),a("ngForOf",e),o(1),a("ngIf",t.hasFilter()&&t.isEmpty()),o(1),a("ngIf",!t.hasFilter()&&t.isEmpty())}}function Fo(n,r){n&1&&V(0)}function Mo(n,r){if(n&1&&(p(0,"div",70),ie(1,1),u(2,Fo,1,0,"ng-container",22),c()),n&2){let e=s(2);o(2),a("ngTemplateOutlet",e.footerTemplate)}}function Ao(n,r){if(n&1){let e=b();p(0,"div",30)(1,"span",31,32),h("focus",function(t){m(e);let l=s();return _(l.onFirstHiddenFocus(t))}),c(),u(3,co,6,3,"div",33),p(4,"div",34),u(5,fo,4,11,"p-scroller",35)(6,yo,2,6,"ng-container",7)(7,Lo,5,6,"ng-template",null,36,Ce),c(),u(9,Mo,3,1,"div",37),p(10,"span",31,38),h("focus",function(t){m(e);let l=s();return _(l.onLastHiddenFocus(t))}),c()()}if(n&2){let e=s();Q(e.panelStyleClass),a("ngClass","p-multiselect-panel p-component")("ngStyle",e.panelStyle),o(1),g("aria-hidden","true")("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),o(2),a("ngIf",e.showHeader),o(1),Ke("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),o(1),a("ngIf",e.virtualScroll),o(1),a("ngIf",!e.virtualScroll),o(3),a("ngIf",e.footerFacet||e.footerTemplate),o(1),g("aria-hidden",!0)("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Do=[[["p-header"]],[["p-footer"]]],Po=(n,r)=>({$implicit:n,removeChip:r}),No=["p-header","p-footer"],Go={provide:nt,useExisting:Ne(()=>Lt),multi:!0},zo=(()=>{class n{id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;template;checkIconTemplate;onClick=new k;onMouseEnter=new k;onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=K({type:n,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",focused:"focused",ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},decls:6,vars:26,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","id","click","mouseenter"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(i,t){i&1&&(p(0,"li",0),h("click",function(d){return t.onOptionClick(d)})("mouseenter",function(d){return t.onOptionMouseEnter(d)}),p(1,"div",1)(2,"div",2),u(3,rl,3,2,"ng-container",3),c()(),u(4,sl,2,1,"span",3)(5,cl,1,0,"ng-container",4),c()),i&2&&(a("ngStyle",F(16,Me,t.itemSize+"px"))("ngClass",be(18,pl,t.selected,t.disabled,t.focused))("id",t.id),g("aria-label",t.label)("aria-setsize",t.ariaSetSize)("aria-posinset",t.ariaPosInset)("aria-selected",t.selected)("data-p-focused",t.focused)("data-p-highlight",t.selected)("data-p-disabled",t.disabled),o(2),a("ngClass",F(22,dl,t.selected)),g("aria-checked",t.selected),o(1),a("ngIf",t.selected),o(1),a("ngIf",!t.template),o(1),a("ngTemplateOutlet",t.template)("ngTemplateOutletContext",F(24,Et,t.option)))},dependencies:()=>[ae,j,se,re,ce,le],encapsulation:2})}return n})(),Lt=(()=>{class n{el;renderer;cd;zone;filterService;config;overlayService;id;ariaLabel;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;appendTo;dataKey;name;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel="{0} items selected";showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="off";showClear=!1;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder=e}get placeholder(){return this._placeholder}get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!1;filterFields;selectOnFocus=!1;autoOptionFocus=!0;onChange=new k;onFilter=new k;onFocus=new k;onBlur=new k;onClick=new k;onClear=new k;onPanelShow=new k;onPanelHide=new k;onLazyLoad=new k;onRemove=new k;onSelectAllChange=new k;containerViewChild;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;templates;searchValue;searchTimeout;_selectAll=null;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder;_itemSize;_selectionLimit;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;headerCheckboxFocus;filterOptions;preventModelTouched;preventDocumentDefault;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=G(null);_filterValue=G(null);_options=G(null);startRangeIndex=G(-1);focusedOptionIndex=G(-1);selectedOptions;get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":this.display==="chip","p-focus":this.focused}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder||this.defaultLabel)&&(this.label()===this.placeholder||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&(this.label()==="p-emptylabel"||this.label().length===0)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":this.config.inputStyle==="filled","p-ripple-disabled":this.config.ripple===!1}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder||this.label()===this.defaultLabel,"p-multiselect-label-empty":!this.placeholder&&!this.defaultLabel&&(!this.modelValue()||this.modelValue().length===0)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Ct.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Ct.EMPTY_FILTER_MESSAGE)}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():v.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&v.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}visibleOptions=me(()=>{let e=this.group?this.flatOptions(this.options):this.options||[];if(this._filterValue()){let i=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale);if(this.group){let t=this.options||[],l=[];return t.forEach(d=>{let I=this.getOptionGroupChildren(d).filter(A=>i.includes(A));I.length>0&&l.push($(N({},d),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...I]}))}),this.flatOptions(l)}return i}return e});label=me(()=>{let e,i=this.modelValue();if(i&&i.length&&this.displaySelectedLabel){if(v.isNotEmpty(this.maxSelectedLabels)&&i.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let t=0;t<i.length;t++)t!==0&&(e+=", "),e+=this.getLabelByValue(i[t])}else e=this.placeholder||this.defaultLabel||"";return e});chipSelectedItems=me(()=>v.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,i,t,l,d,y,I){this.el=e,this.renderer=i,this.cd=t,this.zone=l,this.filterService=d,this.config=y,this.overlayService=I,Ge(()=>{let A=this.modelValue(),U=this.visibleOptions();U&&v.isNotEmpty(U)&&A&&(this.optionValue&&this.optionLabel?this.selectedOptions=U.filter(X=>A.includes(X[this.optionLabel])||A.includes(X[this.optionValue])):this.selectedOptions=[...A],this.cd.markForCheck())})}ngOnInit(){this.id=this.id||Se(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((i,t,l)=>{i.push({optionGroup:t,group:!0,index:l});let d=this.getOptionGroupChildren(t);return d&&d.forEach(y=>i.push(y)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,i=!1,t=-1){let{originalEvent:l,option:d}=e;if(this.disabled||this.isOptionDisabled(d))return;let y=this.isSelected(d),I=null;y?I=this.modelValue().filter(A=>!v.equals(A,this.getOptionValue(d),this.equalityKey())):I=[...this.modelValue()||[],this.getOptionValue(d)],this.updateModel(I,l),t!==-1&&this.focusedOptionIndex.set(t),i&&C.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:e,value:I,itemValue:d})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,i=-1,t=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(t,!0)),t===-1&&(t=this.findNearestSelectedOptionIndex(i)),i!==-1&&t!==-1){let l=Math.min(i,t),d=Math.max(i,t),y=this.visibleOptions().slice(l,d+1).filter(I=>this.isValidOption(I)).map(I=>this.getOptionValue(I));this.updateModel(y,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,i=!1){let t=-1;return this.hasSelectedOption()&&(i?(t=this.findPrevSelectedOptionIndex(e),t=t===-1?this.findNextSelectedOptionIndex(e):t):(t=this.findNextSelectedOptionIndex(e),t=t===-1?this.findPrevSelectedOptionIndex(e):t)),t>-1?t:e}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?v.findLastIndex(this.visibleOptions().slice(0,e),t=>this.isValidSelectedOption(t)):-1;return i>-1?i:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(t=>this.isValidSelectedOption(t)):-1;return i>-1?i+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return v.isNotEmpty(this.modelValue())}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?v.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let i=this.getOptionValue(e);return(this.modelValue()||[]).some(t=>v.equals(t,i,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let t=(this.group?this.flatOptions(this._options()):this._options()||[]).find(l=>!this.isOptionGroup(l)&&v.equals(this.getOptionValue(l),e,this.equalityKey()));return t?this.getOptionLabel(t):null}getSelectedItemsLabel(){let e=/{(.*?)}/;return e.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(e)[0],this.modelValue().length+""):this.selectedItemsLabel}getOptionLabel(e){return this.optionLabel?v.resolveFieldData(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?v.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?v.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?v.resolveFieldData(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.disabled){e.preventDefault();return}let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&i){let t=this.visibleOptions().filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(t,e),e.preventDefault();break}!i&&v.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,i=!1){if(e.altKey&&!i)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,t,this.startRangeIndex()),this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,i=!1){let{currentTarget:t}=e;if(i){let l=t.value.length;t.setSelectionRange(0,e.shiftKey?l:0),this.focusedOptionIndex.set(-1)}else{let l=e.metaKey||e.ctrlKey,d=this.findFirstOptionIndex();e.shiftKey&&l&&this.onOptionSelectRange(e,d,this.startRangeIndex()),this.changeFocusedOptionIndex(e,d),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,i=!1){let{currentTarget:t}=e;if(i){let l=t.value.length;t.setSelectionRange(e.shiftKey?0:l,l),this.focusedOptionIndex.set(-1)}else{let l=e.metaKey||e.ctrlKey,d=this.findLastFocusedOptionIndex();e.shiftKey&&l&&this.onOptionSelectRange(e,this.startRangeIndex(),d),this.changeFocusedOptionIndex(e,d),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onTabKey(e,i=!1){i||(this.overlayVisible&&this.hasFocusableElements()?(C.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):(this.focusedOptionIndex()!==-1&&this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.disabled||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')){e.preventDefault();return}else(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0));this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?C.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;C.focus(i)}onInputFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?C.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;C.focus(i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(e){if(!(this.disabled||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.allSelected()?[]:this.visibleOptions().filter(t=>this.isValidOption(t)).map(t=>this.getOptionValue(t));this.updateModel(i,e)}C.focus(this.headerCheckboxViewChild.nativeElement),this.headerCheckboxFocus=!0,e.preventDefault(),e.stopPropagation()}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let t=C.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);t?t.scrollIntoView&&t.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(e){this.value=e,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}allSelected(){return this.selectAll!==null?this.selectAll:v.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),e&&C.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&C.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.itemsWrapper=C.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){let i=v.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=C.findSingle(this.itemsWrapper,".p-multiselect-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();case"void":this.itemsWrapper=null,this.onModelTouched();break}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),e.stopPropagation()}removeOption(e,i){let t=this.modelValue().filter(l=>!v.equals(l,e,this.equalityKey()));this.updateModel(t,i),this.onChange.emit({originalEvent:i,value:t,itemValue:e}),i&&i.stopPropagation()}findNextItem(e){let i=e.nextElementSibling;return i?C.hasClass(i.children[0],"p-disabled")||C.isHidden(i.children[0])||C.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(e){let i=e.previousElementSibling;return i?C.hasClass(i.children[0],"p-disabled")||C.isHidden(i.children[0])||C.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(t=>this.isValidOption(t)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?v.findLastIndex(this.visibleOptions().slice(0,e),t=>this.isValidOption(t)):-1;return i>-1?i:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?v.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return v.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let t=-1,l=!1;return this.focusedOptionIndex()!==-1?(t=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)),t=t===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(d=>this.isOptionMatched(d)):t+this.focusedOptionIndex()):t=this.visibleOptions().findIndex(d=>this.isOptionMatched(d)),t!==-1&&(l=!0),t===-1&&this.focusedOptionIndex()===-1&&(t=this.findFirstFocusedOptionIndex()),t!==-1&&this.changeFocusedOptionIndex(e,t),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),l}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=[];for(let i of this.options){let t=this.filterService.filter(this.getOptionGroupChildren(i),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);t&&t.length&&e.push($(N({},i),{[this.optionGroupChildren]:t}))}this._filteredOptions=e}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return C.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}static \u0275fac=function(i){return new(i||n)(L(te),L(ue),L(_e),L(ze),L(Ue),L(Te),L(Ye))};static \u0275cmp=K({type:n,selectors:[["p-multiSelect"]],contentQueries:function(i,t,l){if(i&1&&(q(l,Je,5),q(l,We,5),q(l,z,4)),i&2){let d;w(d=O())&&(t.footerFacet=d.first),w(d=O())&&(t.headerFacet=d.first),w(d=O())&&(t.templates=d)}},viewQuery:function(i,t){if(i&1&&(D(ul,5),D(ml,5),D(_l,5),D(hl,5),D(fl,5),D(gl,5),D(xl,5),D(yl,5),D(bl,5)),i&2){let l;w(l=O())&&(t.containerViewChild=l.first),w(l=O())&&(t.overlayViewChild=l.first),w(l=O())&&(t.filterInputChild=l.first),w(l=O())&&(t.focusInputViewChild=l.first),w(l=O())&&(t.itemsViewChild=l.first),w(l=O())&&(t.scroller=l.first),w(l=O())&&(t.lastHiddenFocusableElementOnOverlay=l.first),w(l=O())&&(t.firstHiddenFocusableElementOnOverlay=l.first),w(l=O())&&(t.headerCheckboxViewChild=l.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,t){i&2&&He("p-inputwrapper-focus",t.focused||t.overlayVisible)("p-inputwrapper-filled",t.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:"focusOnHover",filterFields:"filterFields",selectOnFocus:"selectOnFocus",autoOptionFocus:"autoOptionFocus"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[xe([Go])],ngContentSelectors:No,decls:16,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["role","combobox",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","focus","blur","keydown"],["focusInput",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],["class","p-multiselect-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[1,"p-multiselect-clear-icon",3,"click"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["firstHiddenFocusableEl",""],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],["lastHiddenFocusableEl",""],[1,"p-multiselect-header"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass","click","keydown"],["type","checkbox",3,"readonly","disabled","focus","blur"],["headerCheckbox",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input","keydown","click","blur"],["filterInput",""],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"id","option","selected","label","disabled","template","checkIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize","onClick","onMouseEnter"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(i,t){i&1&&(ge(Do),p(0,"div",0,1),h("click",function(d){return t.onContainerClick(d)}),p(2,"div",2)(3,"input",3,4),h("focus",function(d){return t.onInputFocus(d)})("blur",function(d){return t.onInputBlur(d)})("keydown",function(d){return t.onKeyDown(d)}),c()(),p(5,"div",5)(6,"div",6),u(7,kl,3,2,"ng-container",7)(8,El,1,0,"ng-container",8),c(),u(9,Dl,3,2,"ng-container",7),c(),p(10,"div",9),u(11,Gl,3,2,"ng-container",7)(12,Hl,2,3,"span",10),c(),p(13,"p-overlay",11,12),h("visibleChange",function(d){return t.overlayVisible=d})("onAnimationStart",function(d){return t.onOverlayAnimationStart(d)})("onHide",function(){return t.hide()}),u(15,Ao,12,18,"ng-template",13),c()()),i&2&&(Q(t.styleClass),a("ngClass",t.containerClass)("ngStyle",t.style),g("id",t.id),o(2),g("data-p-hidden-accessible",!0),o(1),a("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),g("aria-disabled",t.disabled)("id",t.inputId)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",t.overlayVisible)("aria-controls",t.id+"_list")("tabindex",t.disabled?-1:t.tabindex)("aria-activedescendant",t.focused?t.focusedOptionId:void 0),o(2),a("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),o(1),a("ngClass",t.labelClass),o(1),a("ngIf",!t.selectedItemsTemplate),o(1),a("ngTemplateOutlet",t.selectedItemsTemplate)("ngTemplateOutletContext",H(38,Po,t.selectedOptions,t.removeOption.bind(t))),o(1),a("ngIf",t.isVisibleClearIcon),o(2),a("ngIf",!t.dropdownIconTemplate),o(1),a("ngIf",t.dropdownIconTemplate),o(1),a("visible",t.overlayVisible)("options",t.overlayOptions)("target","@parent")("appendTo",t.appendTo)("autoZIndex",t.autoZIndex)("baseZIndex",t.baseZIndex)("showTransitionOptions",t.showTransitionOptions)("hideTransitionOptions",t.hideTransitionOptions))},dependencies:()=>[ae,$e,j,se,re,mi,z,Ve,ce,ut,le,Le,kt,Oe,St,zo],styles:[`@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),Fi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=de({type:n});static \u0275inj=pe({imports:[Z,Tt,W,ke,we,Ee,le,Le,kt,Oe,St,le,Tt,W,Ee]})}return n})();var Ft=Dt(ti());function Bo(n,r){if(n&1&&(p(0,"div",28)(1,"span",29),f(2),c()()),n&2){s();let e=E(19);xt("pTooltip",e.value.length+" letters"),o(2),B("",e.value.length," letters")}}function jo(n,r){if(n&1){let e=b();p(0,"div",3)(1,"div",4)(2,"span",5),f(3,"Author"),c()(),p(4,"div",18)(5,"div",5)(6,"p-dropdown",30),h("onChange",function(){m(e);let t=s();return _(t.getAuthorLink())}),c()(),p(7,"div",5)(8,"p-button",31),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({authorId:!1}))}),c()()()(),p(9,"div",3),x(10,"div",4),p(11,"div",32)(12,"div",33)(13,"span",5),f(14),c()()()()}if(n&2){let e=s();o(6),a("options",e.authors)("filter",!0),o(2),a("rounded",!0)("text",!0)("plain",!0),o(4),xt("pTooltip",e.authorLink||""),o(2),M(e.authorLink)}}function Qo(n,r){if(n&1){let e=b();p(0,"div",34)(1,"div",4)(2,"span",5),f(3,"Author Link"),c()(),p(4,"div",18),x(5,"input",35,36),c(),p(7,"div",5)(8,"p-button",9),h("click",function(){m(e);let t=s();return _(t.parseAuthorLink())}),c()()(),p(9,"div",34)(10,"div",4)(11,"span",5),f(12,"Author Name"),c()(),p(13,"div",18),x(14,"input",37),c(),p(15,"div",5)(16,"p-button",38),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({authorId:!0}))}),c()()()}if(n&2){let e=E(6);o(8),a("disabled",!e.value)("rounded",!0)("text",!0)("plain",!0),o(8),a("rounded",!0)("text",!0)("plain",!0)}}function qo(n,r){if(n&1){let e=b();p(0,"div",34)(1,"div",4)(2,"span",5),f(3,"Author Link"),c()(),p(4,"div",18)(5,"div",5),x(6,"input",35,36),c(),p(8,"div",5)(9,"p-button",9),h("click",function(){m(e);let t=s();return _(t.parseAuthorLink())}),c()()()()}if(n&2){let e=E(7);o(9),a("disabled",!e.value)("rounded",!0)("text",!0)("plain",!0)}}function Zo(n,r){n&1&&(S(0),f(1,"Name"),T())}function Uo(n,r){if(n&1){let e=b();p(0,"div",5),x(1,"p-dropdown",40),c(),p(2,"div",5)(3,"p-button",31),h("click",function(){m(e);let t=s(2);return _(t.changeFieldModes({authorId:!1}))}),c()()}if(n&2){let e=s(2);o(1),a("options",e.authors)("filter",!0),o(2),a("rounded",!0)("text",!0)("plain",!0)}}function Yo(n,r){if(n&1){let e=b();p(0,"div",41),x(1,"input",37),c(),p(2,"div",5)(3,"p-button",38),h("click",function(){m(e);let t=s(2);return _(t.changeFieldModes({authorId:!0}))}),c()()}n&2&&(o(3),a("rounded",!0)("text",!0)("plain",!0))}function Wo(n,r){if(n&1&&(p(0,"div",3)(1,"div",4)(2,"span",5),f(3,"Author "),u(4,Zo,2,0,"ng-container",39),c()(),p(5,"div",18),u(6,Uo,4,5)(7,Yo,4,3),c()()),n&2){let e=s();o(4),a("ngIf",!e.fieldModes.authorId),o(2),fe(6,e.fieldModes.authorId?6:7)}}function Jo(n,r){if(n&1){let e=b();p(0,"div",5),x(1,"p-dropdown",42),c(),p(2,"div",5)(3,"p-button",31),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({articleTypeId:!1}))}),c()()}if(n&2){let e=s();o(1),a("options",e.articleTypes)("filter",!0),o(2),a("rounded",!0)("text",!0)("plain",!0)}}function Xo(n,r){if(n&1){let e=b();p(0,"div",41),x(1,"input",43),c(),p(2,"div",5)(3,"p-button",38),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({articleTypeId:!0}))}),c()()}n&2&&(o(3),a("rounded",!0)("text",!0)("plain",!0))}function ea(n,r){if(n&1){let e=b();p(0,"div",5),x(1,"p-dropdown",44),c(),p(2,"div",5)(3,"p-button",31),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({sourceId:!1}))}),c()()}if(n&2){let e=s();o(1),a("options",e.sources)("filter",!0),o(2),a("rounded",!0)("text",!0)("plain",!0)}}function ta(n,r){if(n&1){let e=b();p(0,"div",41),x(1,"input",45),c(),p(2,"div",5)(3,"p-button",38),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({sourceId:!0}))}),c()()}n&2&&(o(3),a("rounded",!0)("text",!0)("plain",!0))}function ia(n,r){if(n&1){let e=b();p(0,"div",5),x(1,"p-dropdown",46),c(),p(2,"div",5)(3,"p-button",31),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({categoryId:!1}))}),c()()}if(n&2){let e=s();o(1),a("options",e.categories)("filter",!0),o(2),a("rounded",!0)("text",!0)("plain",!0)}}function na(n,r){if(n&1){let e=b();p(0,"div",41),x(1,"input",47),c(),p(2,"div",5)(3,"p-button",38),h("click",function(){m(e);let t=s();return _(t.changeFieldModes({categoryId:!0}))}),c()()}n&2&&(o(3),a("rounded",!0)("text",!0)("plain",!0))}function la(n,r){if(n&1){let e=b();p(0,"div",48)(1,"div",5)(2,"input",49,50),h("keydown.enter",function(){m(e);let t=E(3),l=s();return _(l.createTag(t))}),c()(),p(4,"div",5)(5,"p-button",51),h("click",function(){m(e);let t=E(3),l=s();return _(l.createTag(t))}),c()()()}if(n&2){let e=E(3);o(5),a("rounded",!0)("outlined",!0)("disabled",!e.value||e.value.length<2)}}var Mt=(()=>{let r=class r{constructor(){this._store$=Y(qe),this._utilsService=Y(ii),this._dynamicDialogRef=Y(vi),this._dynamicDialogConfig=Y(bi),this._articleId=this._dynamicDialogConfig.data?.id,this.formGroup=new It({authorId:new P("",[this.articleAuthorIdValidator().bind(this)]),categoryId:new P("",[this.articleCategoryIdValidator().bind(this)]),articleTypeId:new P("",this.articleArticleTypIdValidator().bind(this)),sourceId:new P("",this.articleSourceIdValidator().bind(this)),date:new P("",[lt.required]),edition:new P(""),subject:new P(""),featured:new P(""),link:new P("",[lt.required,this.articleLinkValidator().bind(this)]),title:new P("",[lt.required,this.articleTitleValidator().bind(this)]),tags:new P([]),addeds:new It({articleTypeName:new P("",[this.articleArticleTypeNameValidator().bind(this)]),categoryName:new P("",[this.articleCategoryNameValidator().bind(this)]),sourceName:new P("",[this.articleSourceNameValidator().bind(this)]),authorName:new P("",[this.articleAuthorNameValidator().bind(this)]),authorLink:new P("",[this.articleAuthorLinkValidator().bind(this)])})}),this.fieldModes={articleTypeId:!0,categoryId:!0,sourceId:!0,authorId:!1},this.inproccess=!1}get formDisabled(){let i=JSON.stringify(this.formGroup.value)===this._kept;return this.formGroup.invalid||this.inproccess||i}onSubmit(){this.inproccess=!0,this._articleId?this._store$.dispatch(Ie.updateArticle({articleId:this._articleId,article:$(N({},this.formGroup.value),{date:(0,Ft.default)(this.formGroup.value.date).format("YYYY-MM-DD"),edition:this.formGroup.value.edition?(0,Ft.default)(this.formGroup.value.edition).format("YYYY-MM-DD"):""}),callback:i=>{i?(console.log(),console.error(i),console.log(i.message)):this._dynamicDialogRef.close(),this.inproccess=!1}})):this._store$.dispatch(Ie.addArticle({article:this.formGroup.value,callback:i=>{i?(console.log(),console.log(i),console.log(i.message)):this._dynamicDialogRef.close(),this.inproccess=!1}}))}onCancel(){this._dynamicDialogRef.close()}parseLink(){let{articleTypeId:i,sourceId:t}=this._utilsService.parseTileLink(this.formGroup.value.link??"",this.articleTypes,this.sources);this.changeFieldModes({articleTypeId:!0}),this.formGroup.get("articleTypeId")?.setValue(i),this.formGroup.get("articleTypeId")?.updateValueAndValidity(),this.changeFieldModes({sourceId:!0}),this.formGroup.get("sourceId")?.setValue(t),this.formGroup.get("sourceId")?.updateValueAndValidity()}parseAuthorLink(){let i=this._utilsService.parseAuthorLink(`${this.formGroup.value.addeds?.authorLink}`);this.formGroup.get("addeds")?.get("authorName")?.setValue(`${i??""}`),this.formGroup.get("addeds")?.updateValueAndValidity()}getAuthorLink(){let i=this.authors.find(({id:t})=>t===this.formGroup.value.authorId);this.authorLink=i?.link??""}changeFieldModes(i){this.fieldModes=N(N({},this.fieldModes),i);let t=De(Object.entries(i).map(([l,d])=>({key:l,value:d}))).pipe(Pe(0)).subscribe(({key:l,value:d})=>{switch(!0){case(l==="articleTypeId"&&d):this.formGroup.get("addeds")?.get("articleTypeName")?.setValue(""),this.formGroup.get("articleTypeId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("articleTypeName")?.updateValueAndValidity();break;case(l==="articleTypeId"&&!d):this.formGroup.get("articleTypeId")?.setValue(""),this.formGroup.get("articleTypeId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("articleTypeName")?.updateValueAndValidity();break;case(l==="categoryId"&&d):this.formGroup.get("addeds")?.get("categoryName")?.setValue(""),this.formGroup.get("categoryId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("categoryName")?.updateValueAndValidity();break;case(l==="categoryId"&&!d):this.formGroup.get("categoryId")?.setValue(""),this.formGroup.get("categoryId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("categoryName")?.updateValueAndValidity();break;case(l==="sourceId"&&d):this.formGroup.get("addeds")?.get("sourceName")?.setValue(""),this.formGroup.get("sourceId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("sourceName")?.updateValueAndValidity();break;case(l==="sourceId"&&!d):this.formGroup.get("sourceId")?.setValue(""),this.formGroup.get("sourceId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("sourceName")?.updateValueAndValidity();break;case(l==="authorId"&&d):this.formGroup.get("addeds")?.get("authorName")?.setValue(""),this.formGroup.get("addeds")?.get("authorLink")?.setValue(""),this.formGroup.get("authorId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("authorName")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("authorLink")?.updateValueAndValidity();break;case(l==="authorId"&&!d):this.formGroup.get("authorId")?.setValue(""),this.formGroup.get("authorId")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("authorName")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("authorLink")?.updateValueAndValidity(),this.authorLink="";break;default:console.error(l);break}t.unsubscribe()})}createTag(i){if(i.value&&!this.tags.includes(i.value)){this.tags.push(i.value);let t=this.formGroup.get("tags");t?.setValue([...t?.value??[],i.value])}i.value=""}articleTitleValidator(){return i=>this.formGroup&&(this._articles??[]).find(({title:t,id:l})=>t===i.value&&(this._articleId?l!==`${this._articleId}`:!0))?{duplicate_title:!0}:null}articleLinkValidator(){return i=>this.formGroup&&(this._articles??[]).find(({link:t,id:l})=>t===i.value&&(this._articleId?l!==`${this._articleId}`:!0))?{duplicate_link:!0}:null}articleArticleTypIdValidator(){return i=>this.formGroup&&this.fieldModes.articleTypeId?i.value?null:{required:!0}:null}articleArticleTypeNameValidator(){return i=>!this.formGroup||this.fieldModes.articleTypeId?null:i.value?(this.articleTypes??[]).find(({name:t})=>`${t}`.toLowerCase()===`${i.value}`.toLowerCase())?{duplicate_article_type:!0}:null:{required:!0}}articleCategoryIdValidator(){return i=>this.formGroup&&this.fieldModes.categoryId?i.value?null:{required:!0}:null}articleCategoryNameValidator(){return i=>!this.formGroup||this.fieldModes.categoryId?null:i.value?(this.categories??[]).find(({name:t})=>`${t}`.toLowerCase()===`${i.value}`.toLowerCase())?{duplicate_category:!0}:null:{required:!0}}articleSourceIdValidator(){return i=>this.formGroup&&this.fieldModes.sourceId?i.value?null:{required:!0}:null}articleSourceNameValidator(){return i=>!this.formGroup||this.fieldModes.sourceId?null:i.value?(this.sources??[]).find(({name:t})=>`${t}`.toLowerCase()===`${i.value}`.toLowerCase())?{duplicate_source:!0}:null:{required:!0}}articleAuthorIdValidator(){return i=>this.formGroup&&this.fieldModes.authorId?i.value?null:{required:!0}:null}articleAuthorLinkValidator(){return i=>!this.formGroup||this.fieldModes.authorId?null:i.value?(this.authors??[]).find(({link:t})=>`${t}`.toLowerCase()===`${i.value}`.toLowerCase())?{duplicate_author_link:!0}:null:{required:!0}}articleAuthorNameValidator(){return i=>!this.formGroup||this.fieldModes.authorId?null:i.value?(this.authors??[]).find(({name:t})=>`${t}`.toLowerCase()===`${i.value}`.toLowerCase())?{duplicate_author_name:!0}:null:{required:!0}}ngOnInit(){return Pt(this,null,function*(){if(this._articles=yield oe(this._store$.select(Jt)),this.authors=yield oe(this._store$.select(Xe)),this.categories=yield oe(this._store$.select(et)),this.articleTypes=yield oe(this._store$.select(tt)),this.sources=yield oe(this._store$.select(it)),this.tags=yield oe(this._store$.select(Xt)),this._dynamicDialogConfig.data){this.fieldModes.authorId=!0;let i=this.formGroup.get("authorId");i?.setValue(this._dynamicDialogConfig.data.authorId),i?.updateValueAndValidity();let t=this.formGroup.get("categoryId");t?.setValue(this._dynamicDialogConfig.data.categoryId),t?.updateValueAndValidity();let l=this.formGroup.get("articleTypeId");l?.setValue(this._dynamicDialogConfig.data.articleTypeId),l?.updateValueAndValidity();let d=this.formGroup.get("sourceId");d?.setValue(this._dynamicDialogConfig.data.sourceId),d?.updateValueAndValidity();let y=this.formGroup.get("subject");y?.setValue(this._dynamicDialogConfig.data.subject),y?.updateValueAndValidity();let I=this.formGroup.get("featured");I?.setValue(this._dynamicDialogConfig.data.featured),I?.updateValueAndValidity();let A=this.formGroup.get("link");A?.setValue(this._dynamicDialogConfig.data.link),A?.updateValueAndValidity();let U=this.formGroup.get("title");U?.setValue(this._dynamicDialogConfig.data.title),U?.updateValueAndValidity();let X=this.formGroup.get("tags");if(X?.setValue(this._dynamicDialogConfig.data.tags??[]),X?.updateValueAndValidity(),this._dynamicDialogConfig.data.date){let ee=this.formGroup.get("date");ee?.setValue(new Date(this._dynamicDialogConfig.data.date)),ee?.updateValueAndValidity()}if(this._dynamicDialogConfig.data.edition){let ee=this.formGroup.get("edition");ee?.setValue(new Date(this._dynamicDialogConfig.data.edition)),ee?.updateValueAndValidity()}this.formGroup.get("addeds")?.get("authorName")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("authorLink")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("articleTypeName")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("categoryName")?.updateValueAndValidity(),this.formGroup.get("addeds")?.get("sourceName")?.updateValueAndValidity(),this.getAuthorLink()}else{let i=this.formGroup.get("date");i?.setValue(new Date),i?.updateValueAndValidity()}this._kept=JSON.stringify(this.formGroup.value)})}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=K({type:r,selectors:[["app-article-dialog"]],standalone:!0,features:[ye],decls:84,vars:20,consts:[[1,"",3,"formGroup"],[1,"flex","gap-4","justify-content-between","gap-8","mb-6","pl-4","pt-3"],[1,"w-34rem"],[1,"flex","align-items-center","mb-2"],[1,"w-8rem"],[1,""],[1,"flex","gap-2","align-items-center"],["formControlName","link","type","text","pInputText","","placeholder","Link",1,"w-20rem"],["titleLink",""],["icon","pi pi-caret-right",3,"disabled","rounded","text","plain","click"],["formControlName","title","type","text","pInputText","","placeholder","Title",1,"w-20rem"],["inpitTile",""],["class","w-5rem white-space-nowrap overflow-hidden text-overflow-ellipsis","appTooltip","","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["formControlName","subject","type","text","pInputText","","placeholder","Subject",1,"w-20rem"],["formControlName","featured","type","text","pInputText","","placeholder","Featured",1,"w-20rem"],["class","flex align-items-center mb-2","formGroupName","addeds",4,"ngIf"],["class","flex align-items-center mb-2",4,"ngIf"],[1,"w-32rem"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],["formControlName","date","placeholder","Select an Article Date","dateFormat","dd-M-yy","dataType","string","inputStyleClass","datepicker-input w-20rem","appendTo","body",3,"showIcon"],["formControlName","edition","placeholder","Select an Issue Date","dateFormat","dd-M-yy","dataType","string","inputStyleClass","datepicker-input w-20rem","appendTo","body",3,"showIcon"],["formControlName","tags","placeholder","Select Tags","styleClass","w-20rem","appendTo","body",3,"options"],["pTemplate","footer"],[1,"flex","justify-content-end","align-items-center","px-7"],[1,"flex","gap-3"],["label","Cancel",3,"rounded","text","click"],["label","Submit","icon","pi pi-check",3,"disabled","rounded","outlined","click"],["appTooltip","","tooltipPosition","top",1,"w-5rem","white-space-nowrap","overflow-hidden","text-overflow-ellipsis",3,"pTooltip"],[1,"text-xs","px-2"],["formControlName","authorId","filterBy","name","optionValue","id","optionLabel","name","styleClass","w-20rem","appendTo","body","placeholder","Select an Author",3,"options","filter","onChange"],["icon","pi pi-plus-circle","styleClass","",3,"rounded","text","plain","click"],[1,"flex","align-items-center","w-20rem","pt-2"],["appTooltip","","tooltipPosition","bottom",1,"white-space-nowrap","overflow-hidden","text-overflow-ellipsis",3,"pTooltip"],["formGroupName","addeds",1,"flex","align-items-center","mb-2"],["formControlName","authorLink","type","text","pInputText","","placeholder","New Author Link",1,"w-20rem"],["authorLink",""],["formControlName","authorName","type","text","pInputText","","placeholder","New Author",1,"w-20rem"],["icon","pi pi-minus-circle","styleClass","",3,"rounded","text","plain","click"],[4,"ngIf"],["formControlName","authorId","filterBy","name","optionValue","id","optionLabel","name","styleClass","w-20rem","appendTo","body","placeholder","Select an Author",3,"options","filter"],["formGroupName","addeds",1,""],["formControlName","articleTypeId","filterBy","name","optionValue","id","optionLabel","name","styleClass","w-20rem","appendTo","body","placeholder","Select an Article Type",3,"options","filter"],["formControlName","articleTypeName","type","text","pInputText","","placeholder","New Article Type",1,"w-20rem"],["formControlName","sourceId","filterBy","name","optionValue","id","optionLabel","name","styleClass","w-20rem","appendTo","body","placeholder","Select a Source",3,"options","filter"],["formControlName","sourceName","type","text","pInputText","","placeholder","New Source",1,"w-20rem"],["formControlName","categoryId","filterBy","name","optionValue","id","optionLabel","name","styleClass","w-20rem","appendTo","body","placeholder","Select a Category",3,"options","filter"],["formControlName","categoryName","type","text","pInputText","","placeholder","New Category",1,"w-20rem"],[1,"flex","align-items-center","gap-2","p-multiselect-header"],["pInputText","","type","text","placeholder","Add Tag",1,"w-12",3,"keydown.enter"],["tagInput",""],["icon","pi pi-plus","size","small",3,"rounded","outlined","disabled","click"]],template:function(t,l){if(t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),f(6,"Post Link"),c()(),p(7,"div",6)(8,"div",5),x(9,"input",7,8),c(),p(11,"div",5)(12,"p-button",9),h("click",function(){return l.parseLink()}),c()()()(),p(13,"div",3)(14,"div",4)(15,"span",5),f(16,"Post Title"),c()(),p(17,"div",5),x(18,"input",10,11),c(),u(20,Bo,3,2,"div",12),c(),p(21,"div",3)(22,"div",4)(23,"span",5),f(24,"Subject"),c()(),p(25,"div",5),x(26,"input",13),c()(),p(27,"div",3)(28,"div",4)(29,"span",5),f(30,"Featured"),c()(),p(31,"div",5),x(32,"input",14),c()(),u(33,jo,15,7)(34,Qo,17,7)(35,qo,10,4,"div",15)(36,Wo,8,2,"div",16),c(),p(37,"div",17)(38,"div",3)(39,"div",4)(40,"span",5),f(41,"Article Type"),c()(),p(42,"div",18),u(43,Jo,4,5)(44,Xo,4,3),c()(),p(45,"div",3)(46,"div",4)(47,"span",5),f(48,"Source"),c()(),p(49,"div",18),u(50,ea,4,5)(51,ta,4,3),c()(),p(52,"div",3)(53,"div",4)(54,"span",5),f(55,"Category"),c()(),p(56,"div",18),u(57,ia,4,5)(58,na,4,3),c()(),p(59,"div",3)(60,"div",4)(61,"span",5),f(62,"Article Date"),c()(),p(63,"div",19),x(64,"p-calendar",20),c()(),p(65,"div",3)(66,"div",4)(67,"span",5),f(68,"Issue Date"),c()(),p(69,"div",19),x(70,"p-calendar",21),c()(),p(71,"div",3)(72,"div",4)(73,"span",5),f(74,"Tags"),c()(),p(75,"div",19)(76,"p-multiSelect",22),u(77,la,6,3,"ng-template",23),c()()()()(),p(78,"div",24)(79,"div",25)(80,"div",5)(81,"p-button",26),h("click",function(){return l.onCancel()}),c()(),p(82,"div",5)(83,"p-button",27),h("click",function(){return l.onSubmit()}),c()()()()()),t&2){let d=E(10),y=E(19);a("formGroup",l.formGroup),o(12),a("disabled",!d.value)("rounded",!0)("text",!0)("plain",!0),o(8),a("ngIf",y.value.length>1),o(13),fe(33,l.fieldModes.authorId?33:34),o(2),a("ngIf",!l.fieldModes.authorId&&0),o(1),a("ngIf",0),o(7),fe(43,l.fieldModes.articleTypeId?43:44),o(7),fe(50,l.fieldModes.sourceId?50:51),o(7),fe(57,l.fieldModes.categoryId?57:58),o(7),a("showIcon",!0),o(6),a("showIcon",!0),o(6),a("options",l.tags),o(5),a("rounded",!0)("text",!0),o(2),a("disabled",l.formDisabled)("rounded",!0)("outlined",!0)}},dependencies:[Z,j,ci,ni,li,oi,ai,si,ri,ot,ke,Ve,mt,rt,at,hi,_i,z,Fi,Lt,dt,pt,st,ct],styles:["[_nghost-%COMP%]     .w-34rem{width:34rem}[_nghost-%COMP%]     .w-32rem{width:32rem}"]});let n=r;return n})();var J=Dt(ti());var oa=["table"];function aa(n,r){if(n&1){let e=b();p(0,"p-button",13),h("onClick",function(){m(e);let t=s(2);return _(t.onMessage(t.messageType.DownloadArticles))}),c()}n&2&&a("rounded",!0)("outlined",!0)("plain",!0)}function ra(n,r){if(n&1){let e=b();p(0,"div",6)(1,"div",7),x(2,"i",8),p(3,"input",9,10),h("input",function(){m(e);let t=E(4),l=s();return _(l.onSearchFilter(t.value))}),c()(),p(5,"div",11),u(6,aa,1,3,"p-button",12),c()()}if(n&2){let e=s();o(6),a("ngIf",e.authorized)}}function sa(n,r){if(n&1){let e=b();p(0,"div",14)(1,"div",15)(2,"p-button",16),h("onClick",function(){m(e);let t=s();return _(t.onMessage(t.messageType.OpenAddAricleDialog))}),c()()()}n&2&&(o(2),a("rounded",!0)("rounded",!0)("plain",!0))}function ca(n,r){n&1&&x(0,"th",49)}var At=()=>[];function pa(n,r){if(n&1){let e=b();p(0,"th",50)(1,"div",19)(2,"div",11)(3,"span",11),f(4,"Type"),c()(),p(5,"div",51),x(6,"p-sortIcon",52),c(),p(7,"div",11)(8,"p-overlayPanel",null,53)(10,"p-listbox",34),h("onChange",function(t){m(e);let l=s(2);return _(l.onArticleTypesFilter(t))}),ve(11,"async"),c()(),p(12,"i",27),h("click",function(t){m(e);let l=E(9);return _(l.toggle(t))}),c()()()()}if(n&2){let e=s(2);o(10),a("options",Re(11,4,e.articleTypes$)||ne(6,At))("multiple",!0)("checkbox",!0)("filter",!0)}}function da(n,r){n&1&&(p(0,"th",54)(1,"div",19)(2,"div",11)(3,"span",11),f(4,"Featured"),c()(),p(5,"div",55),x(6,"p-sortIcon",56),c()()())}function ua(n,r){if(n&1){let e=b();p(0,"th",57)(1,"div",19)(2,"div",11)(3,"span",11),f(4,"Source"),c()(),p(5,"div",58),x(6,"p-sortIcon",59),c(),p(7,"div",11)(8,"p-overlayPanel",null,60)(10,"p-listbox",34),h("onChange",function(t){m(e);let l=s(2);return _(l.onSourcesFilter(t))}),ve(11,"async"),c()(),p(12,"i",27),h("click",function(t){m(e);let l=E(9);return _(l.toggle(t))}),c()()()()}if(n&2){let e=s(2);o(10),a("options",Re(11,4,e.sources$)||ne(6,At))("multiple",!0)("checkbox",!0)("filter",!0)}}function ma(n,r){n&1&&x(0,"th",49)}function _a(n,r){if(n&1){let e=b();p(0,"tr",11),u(1,ca,1,0,"th",17),p(2,"th",18)(3,"div",19)(4,"div",11)(5,"span",11),f(6,"Date"),c()(),p(7,"div",20),x(8,"p-sortIcon",21),c(),p(9,"div",11)(10,"p-overlayPanel",null,22)(12,"div",23)(13,"div",24)(14,"span",11),f(15,"From"),c()(),p(16,"div",11)(17,"p-calendar",25),h("onSelect",function(t){m(e);let l=s();return _(l.onDateFilter({dateFrom:t}))})("onClear",function(){m(e);let t=s();return _(t.onDateFilter({dateFrom:null}))}),c()()(),p(18,"div",26)(19,"div",24)(20,"span",11),f(21,"To"),c()(),p(22,"div",11)(23,"p-calendar",25),h("onSelect",function(t){m(e);let l=s();return _(l.onDateFilter({dateTo:t}))})("onClear",function(){m(e);let t=s();return _(t.onDateFilter({dateTo:null}))}),c()()()(),p(24,"i",27),h("click",function(t){m(e);let l=E(11);return _(l.toggle(t))}),c()()()(),u(25,pa,13,7,"th",28)(26,da,7,0,"th",29),p(27,"th",30)(28,"div",19)(29,"div",11)(30,"span",11),f(31,"Category"),c()(),p(32,"div",31),x(33,"p-sortIcon",32),c(),p(34,"div",11)(35,"p-overlayPanel",null,33)(37,"p-listbox",34),h("onChange",function(t){m(e);let l=s();return _(l.onCategoriesFilter(t))}),ve(38,"async"),c()(),p(39,"i",27),h("click",function(t){m(e);let l=E(36);return _(l.toggle(t))}),c()()()(),u(40,ua,13,7,"th",35),p(41,"th",36)(42,"div",19)(43,"div",11)(44,"span",11),f(45,"Author"),c()(),p(46,"div",37),x(47,"p-sortIcon",38),c()()(),p(48,"th",39)(49,"div",19)(50,"div",11)(51,"span",11),f(52,"Title"),c()(),p(53,"div",40),x(54,"p-sortIcon",41),c()()(),p(55,"th",42)(56,"div",19)(57,"div",11)(58,"span",11),f(59,"Subject"),c()(),p(60,"div",43),x(61,"p-sortIcon",44),c()()(),p(62,"th",45)(63,"div",19)(64,"div",11)(65,"span",11),f(66,"Issue Date"),c()(),p(67,"div",46),x(68,"p-sortIcon",47),c(),p(69,"div",11)(70,"p-overlayPanel",null,48)(72,"div",23)(73,"div",24)(74,"span",11),f(75,"From"),c()(),p(76,"div",11)(77,"p-calendar",25),h("onSelect",function(t){m(e);let l=s();return _(l.onDateFilter({issueDateFrom:t}))})("onClear",function(){m(e);let t=s();return _(t.onDateFilter({issueDateFrom:null}))}),c()()(),p(78,"div",26)(79,"div",24)(80,"span",11),f(81,"To"),c()(),p(82,"div",11)(83,"p-calendar",25),h("onSelect",function(t){m(e);let l=s();return _(l.onDateFilter({issueDateTo:t}))})("onClear",function(){m(e);let t=s();return _(t.onDateFilter({issueDateTo:null}))}),c()()()(),p(84,"i",27),h("click",function(t){m(e);let l=E(71);return _(l.toggle(t))}),c()()()(),u(85,ma,1,0,"th",17),c()}if(n&2){let e=s();o(1),a("ngIf",e.authorized),o(16),a("showIcon",!0)("showClear",!0),o(6),a("showIcon",!0)("showClear",!0),o(2),a("ngIf",e.authorized),o(1),a("ngIf",e.authorized),o(11),a("options",Re(38,17,e.categories$)||ne(19,At))("multiple",!0)("checkbox",!0)("filter",!0),o(3),a("ngIf",e.authorized),o(37),a("showIcon",!0)("showClear",!0),o(6),a("showIcon",!0)("showClear",!0),o(2),a("ngIf",e.authorized)}}function ha(n,r){if(n&1){let e=b();p(0,"td",49)(1,"p-button",66),h("onClick",function(){m(e);let t=s().$implicit,l=s();return _(l.onMessage(l.messageType.OpenEditAricleDialog,t))}),c()()}n&2&&(o(1),a("rounded",!0)("text",!0)("plain",!0))}function fa(n,r){if(n&1&&(p(0,"span",69),f(1),c()),n&2){let e=r.$implicit;o(1),M(e)}}function ga(n,r){if(n&1&&(p(0,"div",67),x(1,"i",68),jt(2,fa,2,1,"span",70,Bt),c()),n&2){let e=s().$implicit;o(2),Qt(e.tags)}}function xa(n,r){if(n&1&&(p(0,"td",50)(1,"div",64)(2,"span",11),f(3),c()()()),n&2){let e=s().$implicit;o(1),a("pTooltip",e.articleTypeName),o(2),M(e.articleTypeName)}}function ya(n,r){if(n&1&&(p(0,"td",54)(1,"div",64)(2,"span",11),f(3),c()()()),n&2){let e=s().$implicit;o(1),a("pTooltip",e.featured),o(2),M(e.featured)}}function ba(n,r){if(n&1&&(p(0,"td",57)(1,"div",64)(2,"span",11),f(3),c()()()),n&2){let e=s().$implicit;o(1),a("pTooltip",e.sourceName),o(2),M(e.sourceName)}}function va(n,r){if(n&1){let e=b();p(0,"td",49)(1,"p-button",71),h("onClick",function(){m(e);let t=s().$implicit,l=s();return _(l.onMessage(l.messageType.RemoveArticle,t))}),c()()}n&2&&(o(1),a("rounded",!0)("text",!0)("plain",!0))}function Ca(n,r){if(n&1&&(p(0,"tr",61),u(1,ha,2,3,"td",17),p(2,"td",18)(3,"div",62)(4,"span",11),f(5),ve(6,"date"),c()(),u(7,ga,4,0,"div",63),c(),u(8,xa,4,2,"td",28)(9,ya,4,2,"td",29),p(10,"td",30)(11,"div",64)(12,"span",11),f(13),c()()(),u(14,ba,4,2,"td",35),p(15,"td",36)(16,"div",64)(17,"a",65),f(18),c()()(),p(19,"td",39)(20,"div",64)(21,"a",65),f(22),c()()(),p(23,"td",42)(24,"div",64)(25,"span",11),f(26),c()()(),p(27,"td",45)(28,"div",62)(29,"span",11),f(30),ve(31,"date"),c()()(),u(32,va,2,3,"td",17),c()),n&2){let e=r.$implicit,i=s();o(1),a("ngIf",i.authorized),o(4),M(yt(6,18,e.date,"dd MMM yyyy")),o(2),a("ngIf",e.tags.length),o(1),a("ngIf",i.authorized),o(1),a("ngIf",i.authorized),o(2),a("pTooltip",e.categoryName),o(2),M(e.categoryName),o(1),a("ngIf",i.authorized),o(2),a("pTooltip",e.authorName),o(1),a("href",e.authorLink,gt),o(1),M(e.authorName),o(2),a("pTooltip",e.title),o(1),a("href",e.link,gt),o(1),M(e.title),o(2),a("pTooltip",e.subject),o(2),M(e.subject),o(4),M(yt(31,21,e.edition,"dd MMM YYYY")),o(2),a("ngIf",i.authorized)}}var Ss=(()=>{let r=class r{constructor(){this._articleSignal=G({articles:[],searchText:"",selectedCategories:[],selectedSources:[],selectedArticleTypes:[],dateFrom:null,dateTo:null,issueDateFrom:null,issueDateTo:null,authorized:!1}),this._articleEffect=Ge(()=>this.createTableValue(this._articleSignal())),this._store$=Y(qe),this._elementRef=Y(te),this._dialogService=Y(wt),this.authors$=this._store$.select(Xe),this.categories$=this._store$.select(et),this.sources$=this._store$.select(it),this.articleTypes$=this._store$.select(tt),this.authorized=!1,this._subscriptions=[this._store$.select(ei).subscribe(i=>this._articleSignal.update(t=>$(N({},t),{articles:i}))),this._store$.select(pi).pipe(Nt(i=>!!i)).subscribe(i=>{this.authorized=i,this._articleSignal.update(t=>$(N({},t),{selectedSources:[],selectedArticleTypes:[],authorized:i}))})],this.messageType={OpenAddAricleDialog:"open article add dialog",OpenEditAricleDialog:"open article edit dialog",RemoveArticle:"remove article",DownloadArticles:"download articles"},this.tableValue=[]}onWindowResize(){this._onResize&&typeof this._onResize=="function"&&this._onResize()}createTableValue({articles:i,searchText:t,selectedCategories:l,selectedSources:d,selectedArticleTypes:y,dateFrom:I,dateTo:A,issueDateFrom:U,issueDateTo:X,authorized:ee}){if(this.tableValue=i.filter(R=>!(t&&`${R.title}`.toLowerCase().indexOf(t)<0&&`${R.authorName}`.toLowerCase().indexOf(t)<0&&!R.tags.some(Ae=>Ae.toLowerCase().startsWith(t))||l.length&&!l.includes(R.categoryId)||ee&&d.length&&!d.includes(R.sourceId)||ee&&y.length&&!y.includes(R.articleTypeId)||I&&(0,J.default)(I).isAfter((0,J.default)(R.date,"day"))||A&&(0,J.default)(A).isBefore((0,J.default)(R.date,"day"))||U&&(0,J.default)(U).isAfter((0,J.default)(R.edition,"day"))||X&&(0,J.default)(X).isBefore((0,J.default)(R.edition,"day")))),!this._onResize){this._onResize=()=>{let Ae=this._elementRef.nativeElement.querySelector(".article-row");if(Ae){let{height:Mi}=Ae.getBoundingClientRect();this.table.virtualScrollItemSize=Mi}};let R=De([!0]).pipe(Pe(0)).subscribe(()=>{this._onResize(),R.unsubscribe()})}}onSearchFilter(i){this._articleSignal.update(t=>$(N({},t),{searchText:`${i}`.toLowerCase()}))}onDateFilter(i){console.log(i),this._articleSignal.update(t=>N(N({},t),i))}onCategoriesFilter({value:i}){this._articleSignal.update(t=>$(N({},t),{selectedCategories:i}))}onSourcesFilter({value:i}){this._articleSignal.update(t=>$(N({},t),{selectedSources:i}))}onArticleTypesFilter({value:i}){this._articleSignal.update(t=>$(N({},t),{selectedArticleTypes:i}))}onMessage(i,t){switch(i){case this.messageType.OpenAddAricleDialog:this._dialogService.open(Mt,{header:"Add Article"});break;case this.messageType.OpenEditAricleDialog:this._dialogService.open(Mt,{header:"Edit Article",data:t});break;case this.messageType.RemoveArticle:this._store$.dispatch(Wt.showConfirmDialog({header:"Article delition",message:"Are you sure you want to delete an article?",accept:{label:"Delete",action:()=>this._store$.dispatch(Ie.removeArticle({articleId:`${t?.id}`}))},reject:{action:()=>{}}}));break;case this.messageType.DownloadArticles:this._store$.dispatch(Ie.downloadArticles());break;default:break}}ngOnDestroy(){this._subscriptions.forEach(i=>i.unsubscribe())}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=K({type:r,selectors:[["app-articles"]],viewQuery:function(t,l){if(t&1&&D(oa,5),t&2){let d;w(d=O())&&(l.table=d.first)}},hostAttrs:[1,"flex","flex-column","overflow-hidden","h-full","w-full","w-screen"],hostBindings:function(t,l){t&1&&h("resize",function(y){return l.onWindowResize(y)},!1,Ht)},standalone:!0,features:[xe([wt]),ye],decls:6,vars:6,consts:[["scrollHeight","flex",1,"articles-table","w-full","h-full",3,"value","scrollable","virtualScroll","virtualScrollItemSize"],["table",""],["pTemplate","caption"],["pTemplate","summary"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search title, author and tag",1,"w-30rem",3,"input"],["searchInput",""],[1,""],["icon","pi pi-download text-xl","styleClass","text-xs w-2rem h-2rem","pTooltip","Download Report","tooltipPosition","left",3,"rounded","outlined","plain","onClick",4,"ngIf"],["icon","pi pi-download text-xl","styleClass","text-xs w-2rem h-2rem","pTooltip","Download Report","tooltipPosition","left",3,"rounded","outlined","plain","onClick"],[1,"flex","justify-content-end"],[1,"px-2"],["icon","pi pi-plus text-xl","styleClass","w-3rem h-3rem","size","large",3,"rounded","plain","onClick"],["class","article-button-cell",4,"ngIf"],[1,"article-date-cell"],[1,"flex","align-items-center"],["pSortableColumn","sortableDate",1,""],["field","sortableDate"],["dateOP",""],[1,"flex","align-items-center","gap-2","mb-2"],[1,"w-4rem"],["placeholder","Select Date","dateFormat","dd-M-yy","dataType","string","inputStyleClass","datepicker-input w-14rem","appendTo","body",3,"showIcon","showClear","onSelect","onClear"],[1,"flex","align-items-center","gap-2"],[1,"pt-1","ml-2","pi","pi-filter","cursor-pointer",3,"click"],["class","article-type-cell",4,"ngIf"],["class","article-featured-cell",4,"ngIf"],[1,"article-category-cell"],["pSortableColumn","categoryName",1,""],["field","categoryName"],["categoriesOP",""],["optionValue","id","optionLabel","name",3,"options","multiple","checkbox","filter","onChange"],["class","article-source-cell",4,"ngIf"],[1,"article-author-cell"],["pSortableColumn","authorName",1,""],["field","authorName"],[1,"article-title-cell"],["pSortableColumn","title",1,""],["field","title"],[1,"article-subject-cell"],["pSortableColumn","subject",1,""],["field","subject"],[1,"article-edition-cell"],["pSortableColumn","sortableEdition",1,""],["field","sortableEdition"],["editionOP",""],[1,"article-button-cell"],[1,"article-type-cell"],["pSortableColumn","articleTypeName",1,""],["field","articleTypeName"],["articleTypesOP",""],[1,"article-featured-cell"],["pSortableColumn","featured",1,""],["field","featured"],[1,"article-source-cell"],["pSortableColumn","sourceName",1,""],["field","sourceName"],["sourcesOP",""],[1,"article-row","relative"],[1,"white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],["class","opacity-60 absolute left-0 right-0 bottom-0 mb-1 px-3 white-space-nowrap overflow-hidden text-overflow-ellipsis",4,"ngIf"],["appTooltip","","tooltipPosition","top",1,"white-space-nowrap","overflow-hidden","text-overflow-ellipsis",3,"pTooltip"],["target","_blank",1,"text-color","no-underline","hover:underline",3,"href"],["icon","pi pi-pencil","styleClass","",3,"rounded","text","plain","onClick"],[1,"opacity-60","absolute","left-0","right-0","bottom-0","mb-1","px-3","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[1,"pi","pi-tag","text-xs"],[1,"text-xs","px-2"],["class","text-xs px-2"],["icon","pi pi-trash","styleClass","",3,"rounded","text","plain","onClick"]],template:function(t,l){t&1&&(p(0,"p-table",0,1),u(2,ra,7,1,"ng-template",2)(3,sa,3,3,"ng-template",3)(4,_a,86,20,"ng-template",4)(5,Ca,33,24,"ng-template",5),c()),t&2&&(He("authorized",l.authorized),a("value",l.tableValue)("scrollable",!0)("virtualScroll",!0)("virtualScrollItemSize",0))},dependencies:[Z,j,Zt,Ut,ot,rt,at,dt,pt,st,z,ct,ke,Ve,yi,fi,gi,xi,wi,Vt,Vi,Oi,Ci,mt],styles:["[_nghost-%COMP%]     .articles-table:not(.authorized) .p-datatable-footer, [_nghost-%COMP%]     .articles-table:not(.authorized) .toggle-edit-mode-button-container{display:none}[_nghost-%COMP%]     .articles-table .article-date-cell{min-width:9rem;max-width:9rem}[_nghost-%COMP%]     .articles-table.authorized .article-date-cell{min-width:9rem;max-width:9rem}[_nghost-%COMP%]     .articles-table .article-type-cell{min-width:0;max-width:0}[_nghost-%COMP%]     .articles-table.authorized .article-type-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table .article-featured-cell{min-width:0;max-width:0}[_nghost-%COMP%]     .articles-table.authorized .article-featured-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table .article-category-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table.authorized .article-category-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table .article-source-cell{min-width:0;max-width:0}[_nghost-%COMP%]     .articles-table.authorized .article-source-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table .article-author-cell{min-width:16rem;max-width:16rem}[_nghost-%COMP%]     .articles-table.authorized .article-author-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table .article-title-cell{min-width:34rem;max-width:34rem}[_nghost-%COMP%]     .articles-table.authorized .article-title-cell{min-width:12.6rem;max-width:12.6rem}[_nghost-%COMP%]     .articles-table .article-subject-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table.authorized .article-subject-cell{min-width:8rem;max-width:8rem}[_nghost-%COMP%]     .articles-table .article-edition-cell{min-width:10.2rem;max-width:10.2rem}[_nghost-%COMP%]     .articles-table.authorized .article-edition-cell{min-width:10.2rem;max-width:10.2rem}[_nghost-%COMP%]     .articles-table .article-button-cell{min-width:0;max-width:0}[_nghost-%COMP%]     .articles-table.authorized .article-button-cell{min-width:3rem;max-width:3rem}"]});let n=r;return n})();export{Ss as ArticlesComponent};
